<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><title>Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions</title><meta name="description" content="Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions"/><meta charSet="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta property="og:url" content="https://mzulkiakbari.alkaysan.co.id/blog/posts/cloud-run-github-actions"/><meta property="og:type" content="website"/><meta property="og:title" content="Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions"/><meta property="og:description" content="Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions"/><meta property="og:image" content="https://mzulkiakbari.alkaysan.co.id/images/posts/Cloud Run - Implementasi DevOps CI CD Pipeline Menggunakan GitHub Actions.png"/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:url" content="mzulkiakbari.alkaysan.co.id"/><meta property="twitter:url" content="https://mzulkiakbari.alkaysan.co.id"/><meta name="twitter:title" content="Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions"/><meta name="twitter:description" content="Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions"/><meta name="twitter:image" content="https://mzulkiakbari.alkaysan.co.id/images/posts/Cloud Run - Implementasi DevOps CI CD Pipeline Menggunakan GitHub Actions.png"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/media/d4588198199bb568-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/d9f3c95379e06bee-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/69092ab74bbd1e40-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/0caac7c63f5eb5d1-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/25b4d693e296668c.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/25b4d693e296668c.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-efdab446b2c4fcf1.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-27940f348921b949.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-741c7cd74d12f3f2.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/675-f5ea2ef57a5d96b0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/492-4e28a1fd2e5c03eb.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/40-9ef566776ff1e478.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/blog/posts/%5Bslug%5D-429f38b7df5aacad.js" defer="" crossorigin=""></script><script src="/_next/static/kPye74dNv48A-A3nRZwbH/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/kPye74dNv48A-A3nRZwbH/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="__className_839cd4"><header class="absolute left-0 top-0 z-10 flex w-full items-center bg-transparent  transition duration-300 ease-in-out"><div class="container"><div class="relative flex items-center justify-between"><div class="px-4"><a class="block py-5 text-lg font-bold lowercase text-dark dark:text-white" href="/">Zul.</a></div><div class="flex items-center px-4"><button id="hamburger" name="hamburger" type="button" class="absolute right-4 block lg:hidden "><span class="hamburger-line origin-top-left transition duration-300 ease-in-out"></span><span class="hamburger-line transition duration-300 ease-in-out"></span><span class="hamburger-line origin-bottom-left transition duration-300 ease-in-out"></span></button><nav class="hidden  transition duration-300 ease-in-out absolute right-0 top-full w-full max-w-full rounded-lg bg-white py-5 shadow-lg lg:static lg:block lg:max-w-full lg:rounded-none lg:bg-transparent lg:shadow-none"><ul class="block lg:flex"><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/dashboard/"><li>Dashboard</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/about-me/"><li>About Me</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/experiences/"><li>Experiences</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/skills/"><li>Skills</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/education/"><li>Education</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/certifications/"><li>Certifications</li></a><a class="group mx-2  flex cursor-pointer rounded-full px-4 py-2 text-base transition duration-300 hover:bg-blue-200/60 hover:text-cyan-600 hover:dark:bg-cyan-300/20 hover:dark:text-cyan-600 text-accents-300 dark:text-slate-400" href="/my-projects/"><li>My Projects</li></a><li class="mt-3 flex items-center pl-7 lg:mt-0 lg:pl-5"><div class="flex"><label for="dark-toggle" class="cursor-pointer"><div class="group toggle-icon rounded-full p-1 hover:bg-blue-200/60"><svg viewBox="0 0 24 24" width="24" height="24" class="transition duration-300 ease-in-out text-dark"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><span class="absolute top-[4.2rem] -right-6 scale-0 rounded bg-dark p-2 text-xs text-white group-hover:scale-100 whitespace-normal transition duration-100 ease-in-out font-bold">✨ Dark Mode</span></div></label></div></li></ul></nav></div></div></div></header><main><div class="pb-36 pt-24 transition duration-300 ease-in-out dark:bg-dark"><div class="container"><div class="mx-auto px-4 sm:px-6 md:px-4 lg:max-w-6xl lg:px-8 xl:max-w-7xl"><div class="-mt-24 lg:mt-[-9rem] border-b border-dark/20 dark:border-white/20"><div class="relative isolate pt-14"><div class="absolute inset-x-0 midnight:hidden -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80" aria-hidden="true"><div class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-cyan-800/90 to-cyan-800/90 opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]" style="clip-path:polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div></div><div class="pt-16 sm:pt-16 md:pt-16 md:pb-0 max-w-screen-2xl mx-auto overflow-hidden lg:grid lg:grid-cols-12 lg:items-center lg:pt-40 lg:pb-28"><div class="col-span-6 sm:px-6 lg:pl-0 max-w-2xl col-start-2 lg:px-0 ml-0 lg:ml-[-1rem] xl:ml-[-0.5rem] lg:flex-auto lg:pr-16"><h1 class="lg:max-w-lg text-2xl font-bold tracking-tighter text-foreground sm:text-3xl lg:text-4xl/[2.5rem]">Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions</h1><p class="mt-2 lg:max-w-xl leading-relaxed text-slate-400 sm:mt-4 sm:text-lg sm:leading-7">Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions</p><div class="flex items-center justify-between"><div class="flex items-center gap-x-1 mt-4"><a class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs tracking-tight font-medium transition-colors focus:outline-none border-cyan-500/40 bg-cyan-500/10 text-cyan-500 hover:bg-cyan-500/20" href="/blog/tag/devops/">DevOps</a></div></div><div class="my-8 flex items-center justify-between gap-x-2"><div class="tracking-tighter text-sm text-muted-foreground"><div class="flex"><div class="mr-4 flex-shrink-0"><div class="LazyLoad is-visible"><img class="rounded-full w-12 h-12 transition duration-300 ease-in-out hover:scale-110" src="/images/posts/author/arman.png" loading="lazy" style="opacity:1"/></div></div><div><h4 class="text-lg font-semibold text-foreground">Arman Dwi Pangestu</h4><p class="mt-1 text-slate-400"><span>6 Mei 2024</span><span class="mx-1">•</span><span>1<!-- --> menit baca</span></p></div></div></div></div></div><div class="mt-6 sm:mt-8 lg:mr-4 lg:mt-0 col-span-5 lg:flex-shrink-0 lg:flex-grow mb-7"><div data-radix-aspect-ratio-wrapper="" style="position:relative;width:100%;padding-bottom:56.25%"><div class="grid place-content-center overflow-hidden border border-dark/20 dark:border-white/20 rounded-lg font-mono text-xl font-medium tracking-tighter text-accent-foreground dark:shadow-xl" style="position:absolute;inset:0px"><img loading="lazy" width="1280" height="720" decoding="async" data-nimg="1" class="object-cover object-center w-full h-full rounded-md transition duration-300 ease-in-out hover:scale-110" style="color:transparent" src="/images/posts/Cloud Run - Implementasi DevOps CI CD Pipeline Menggunakan GitHub Actions.png"/></div></div></div></div></div></div><div class="w-full rounded-lg mx-auto mb-5 md:max-w-3xl lg:max-w-5xl transition duration-300 ease-in-out prose prose-pre:mt-0 prose-pre:rounded-t-none prose-pre:rounded-b-lg prose-code:text-[#696a73] prose-code:dark:text-[#8B99AE] prose-code:font-bold prose-code:bg-[#E6ECF3] prose-code:dark:bg-[#0f1419] prose-code:py-1 prose-code:px-2 prose-code:rounded-md prose-table:border-collapse prose-blockquote:border-amber-500 prose-blockquote:bg-amber-300 prose-blockquote:bg-opacity-10 prose-blockquote:text-slate-500 prose-blockquote:dark:text-slate-400 prose-blockquote:not-italic prose-blockquote:px-5 prose-blockquote:py-2 prose-blockquote:rounded prose-headings:text-dark prose-headings:dark:text-white prose-strong:text-dark prose-strong:dark:text-white prose-p:text-accents-3 prose-p:dark:text-slate-400 prose-hr:border-slate-400 prose-li:text-accents-3 prose-li:dark:text-slate-400 prose-img:rounded prose-img:w-full prose-pre:bg-[#E6ECF3] prose-pre:dark:bg-[#0f1419]"><aside><nav><h2>Daftar Isi:</h2><ul><li data-depth="2" class="ml-4"><a href="/blog/posts/cloud-run-github-actions/#pendahuluan">Pendahuluan</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#alur-kerja">Alur Kerja</a></li><li data-depth="2" class="ml-4"><a href="/blog/posts/cloud-run-github-actions/#persiapan">Persiapan</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#membuat-github-repository">Membuat GitHub Repository</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#membuat-simpel-aplikasi-expressjs">Membuat Simpel Aplikasi Express.js</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-folder">Membuat folder</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#pindah-ke-dalam-folder">Pindah ke dalam folder</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#inisialisasi-folder-sebagai-repository-git">Inisialisasi folder sebagai repository git</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#menambahkan-remote-origin-repository-github-sebagai-tempat-host-nya">Menambahkan remote origin repository github sebagai tempat host nya</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#inisialisasi-folder-sebagai-package-nodejs">Inisialisasi folder sebagai package Node.js</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#menambahkan-custom-script-command-nodejs">Menambahkan Custom Script Command Node.js</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#menginstall-package-expressjs">Menginstall package Express.js</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-aplikasi">Membuat Aplikasi</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#mencoba-aplikasi-via-local">Mencoba Aplikasi via Local</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-file-dockerfile">Membuat File Dockerfile</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-file-gitignore">Membuat File Gitignore</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#push-local-repository-ke-remote-repository">Push Local Repository ke Remote Repository</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#setup-google-cloud-resources">Setup Google Cloud Resources</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-google-cloud-project">Membuat Google Cloud Project</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#enable-service-cloud-run-dan-artifact-registry">Enable Service Cloud Run dan Artifact Registry</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-repositories-artifact-registry">Membuat Repositories Artifact Registry</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-service-account-untuk-authentication-github-actions">Membuat Service Account Untuk Authentication GitHub Actions</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#membuat-json-key-dari-service-account">Membuat JSON Key dari Service Account</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#setup-github-actions">Setup GitHub Actions</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#setup-actions-secrets">Setup Actions Secrets</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#setup-github-actions-workflow">Setup GitHub Actions Workflow</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#melihat-github-actions-berjalan">Melihat GitHub Actions Berjalan</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#mengecek-deployment">Mengecek Deployment</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#mengecek-docker-image-di-artifact-registry">Mengecek Docker Image di Artifact Registry</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#mengecek-deployment-cloud-run">Mengecek Deployment Cloud Run</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#mengubah-authentication-deployment-cloud-run">Mengubah Authentication Deployment Cloud Run</a></li><li data-depth="4" class="ml-12"><a href="/blog/posts/cloud-run-github-actions/#melihat-deployment-cloud-run-melalui-url">Melihat Deployment Cloud Run Melalui URL</a></li><li data-depth="2" class="ml-4"><a href="/blog/posts/cloud-run-github-actions/#test-automation-deployment-cicd-pipeline">Test Automation Deployment CI/CD Pipeline</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#fetch-dan-pull-perubahan-remote-ke-local">Fetch dan Pull Perubahan Remote ke Local</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#melakukan-sedikit-perubahan-pada-aplikasi">Melakukan Sedikit Perubahan Pada Aplikasi</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#update-perubahan-ke-main-branch">Update Perubahan ke Main Branch</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#artifact-registry-image-update">Artifact Registry Image Update</a></li><li data-depth="3" class="ml-8"><a href="/blog/posts/cloud-run-github-actions/#cloud-run-deployment-update">Cloud Run Deployment Update</a></li><li data-depth="2" class="ml-4"><a href="/blog/posts/cloud-run-github-actions/#penutup">Penutup</a></li></ul></nav></aside><div><h2 id="pendahuluan">Pendahuluan</h2>
<blockquote>
<p><strong>Catatan</strong>: Alangkah baiknya jika kalian ingin mengikuti artikel ini, kalian setidaknya sudah mengerti teori atau pernah mencoba dari masing-masing teknologi yang akan digunakan di artikel ini, seperti:</p>
<ul>
<li><code>GitHub</code></li>
<li><code>GitHub Actions</code></li>
<li><code>Google Cloud Platform</code></li>
<li><code>Cloud Run</code></li>
<li><code>Identity Access Management (IAM)</code></li>
<li><code>Docker</code></li>
<li><code>Node.js</code></li>
<li><code>Linux</code></li>
</ul>
<p>Tujuannya adalah agar mempermudah pemahaman alur dan implementasi dari artikel ini</p>
</blockquote>
<p>Saat ini saya sedang mengikuti program Studi Independent Kampus Merdeka dengan program Bangkit Academy 2024 Batch 1, pada program tersebut saya mengambil learning path Cloud Computing yang dimana bertanggung jawab untuk membuat backend dan mengelola deployment di Google Cloud Platform.</p>
<p>Oleh karena itu saya melakukan eksplorasi mandiri atau otodidak agar mempermudah pekerjaan saya di Capstone Project nanti dengan cara meng-implementasikan DevOps CI/CD Pipeline menggunakan GitHub Actions dan Cloud Run, hasil dari eksplorasi tersebut terciptalah artikel ini 😁.</p>
<p>Saya mencoba merancang arsitektur diagram atau topologi dari resource dan cara kerja yang akan dipakai adalah seperti animasi GIF dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/containerized-app.gif" alt="Containerized App"></p>
<h3 id="alur-kerja">Alur Kerja</h3>
<p>Kalian bisa lihat dari animasi GIF diatas, seharusnya alur kerja nya adalah seperti ini</p>
<blockquote>
<p><strong>Catatan</strong>: Trigger dari GitHub Actions disini bisa terjadi bukan hanya karena ada <code>push</code> ke <code>main</code> branch saja, tetapi jika melakukan <code>pull request</code> dan kemudian di <code>merge</code> ke <code>main</code> branch, maka akan ikut ke-trigger. Sehingga intinya adalah ketika ada perubahan di branch tertentu, maka job dari GitHub Actions nya akan ke trigger.</p>
<p><code>SHA</code> disini adalah unique id dari git ketika melakukan commit atau biasa dikenal juga sebagai <code>hash</code></p>
<p><code>Cloud Run</code> deployment service secara default adalah private atau <code>Require authentication</code> user menggunakan Cloud IAM, jadi pastikan jika kalian ingin membuat nya public ubah ke <code>Allow unauthenticated invocations</code></p>
</blockquote>
<ol>
<li>Back-End Developer mendevelop aplikasi Express.js kemudian melakukan <code>push</code> ke repository GitHub pada branch <code>main</code></li>
<li>GitHub Actions men-trigger job untuk melakukan build docker image dengan tag berdasarkan <code>SHA</code> dari commit nya dan menyimpan nya ke <code>Artifact Registry</code> karena terdapat perubahan kode di branch <code>main</code></li>
<li>Setelah GitHub Actions melakukan build docker image dan menyimpan nya ke artifact registry, selanjutnya GitHub Actions melakukan deployment pada <code>Cloud Run</code> menggunakan docker image dari artifact registry dengan tag latest atau terakhir yang di simpan (disini latest nya berdasarkan <code>SHA</code>)</li>
<li>Deployment service sudah ready atau siap digunakan, disini Front-End Developer bisa langsung melakukan hit atau konsumsi RESTful API nya karena Cloud Run secara default memiliki domain.</li>
</ol>
<h2 id="persiapan">Persiapan</h2>
<p>Untuk mencapai tujuan dari semua yang sudah dijelaskan diatas, kita memerlukan persiapan yang lumayan cukup kompleks untuk kalian yang baru pertama kali atau masih awam seperti saya di bidang Cloud Computing dan DevOps. Agar lebih simpel mungkin akan saya list apa saja yang harus di persiapkan, berikut adalah list nya:</p>
<ol>
<li>GitHub CLI (Untuk membuat repository melalui terminal, jika kalian tidak terbiasa, gunakan saja yang versi web)</li>
<li>Cloud CLI (Untuk melakukan remote project dan sebagainya melalui terminal, jika kalian tidak terbiasa, gunakan saja yang versi web atau Cloud Console)</li>
<li>Simpel Aplikasi Express.js dengan 1 endpoint di root (<code>/</code>) untuk menampilkan response pada method GET (aplikasi ini juga dibungkus menggunakan Dockerfile karena Cloud Run deployment harus menggunakan docker)</li>
<li>GitHub Actions workflows (Kumpulan job yang akan dijalankan ketika trigger nya aktif)</li>
<li>Google Cloud Resources<ul>
<li>Service Account (Untuk permission atau autentikasi GitHub Actions ke Google Cloud Platform)</li>
<li>Artifact Registry (Untuk menyimpan atau store docker image yang di build)</li>
</ul>
</li>
</ol>
<h3 id="membuat-github-repository">Membuat GitHub Repository</h3>
<p>Untuk membuat sebuah GitHub Repository kalian bisa buat sendiri melalui web nya atau disini karena saya sudah menggunakan <code>GitHub CLI</code> jadi saya bisa jalankan langsung di terminal saya dengan perintah seperti berikut ini:</p>
<pre><code class="language-bash">gh repo create example-cloud-run-github-actions --public
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gh-create-repo.png" alt="GH Create Repository"></p>
<h3 id="membuat-simpel-aplikasi-expressjs">Membuat Simpel Aplikasi Express.js</h3>
<p>Setelah GitHub Repository nya dibuat, sekarang kita buat simpel aplikasi Express.js yang dimana mempunyai 1 buah endpoint di root (<code>/</code>) untuk menampilkan response pada method GET. Untuk membuat nya ikuti langkah-langkah berikut ini:</p>
<h4 id="membuat-folder">Membuat folder</h4>
<pre><code class="language-bash">mkdir example-cloud-run-github-actions
</code></pre>
<h4 id="pindah-ke-dalam-folder">Pindah ke dalam folder</h4>
<pre><code class="language-bash">cd example-cloud-run-github-actions
</code></pre>
<h4 id="inisialisasi-folder-sebagai-repository-git">Inisialisasi folder sebagai repository git</h4>
<pre><code class="language-bash">git init
</code></pre>
<h4 id="menambahkan-remote-origin-repository-github-sebagai-tempat-host-nya">Menambahkan remote origin repository github sebagai tempat host nya</h4>
<blockquote>
<p><strong>Catatan</strong>: Kalian bisa sesuaikan dengan akun <code>username</code> kalian dan <code>repository</code> yang kalian buat sebelumnya</p>
<p>Disini saya menggunakan SSH sebagai authentication github nya, jika kalian menggunakan HTTPS gunakan format berikut ini</p>
<pre><code class="language-bash">git remote add origin https://github.com/&lt;username&gt;/&lt;repository&gt;.git
</code></pre>
</blockquote>
<pre><code class="language-bash">git remote add origin git@github.com:&lt;username&gt;/&lt;repository&gt;.git
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-init.png" alt="Git Init"></p>
<h4 id="inisialisasi-folder-sebagai-package-nodejs">Inisialisasi folder sebagai package Node.js</h4>
<p>Dikarenakan disini kita akan membuat aplikasi menggunakan Node.js, maka kita perlu melakukan inisialisasi folder atau project nya sebagai package. Untuk melakukan nya jalankan perintah berikut ini:</p>
<pre><code class="language-bash">npm init -y
</code></pre>
<h4 id="menambahkan-custom-script-command-nodejs">Menambahkan Custom Script Command Node.js</h4>
<p>Setelah melakukan inisalisasi project, maka Node.js akan men-generate file dengan nama <code>package.json</code>. Pada file ini kita bisa tambahkan custom script command untuk menjalankan aplikasi Express.js nantinya. Untuk melakukannya tambahkan command berikut ini didalam object <code>script</code></p>
<pre><code class="language-json">&quot;scripts&quot;: {
    &quot;start&quot;: &quot;node ./index.js&quot;
}
</code></pre>
<p>Sehingga isian dari file <code>package.json</code> nya menjadi seperti ini</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;example-cloud-run-github-actions&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node ./index.js&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;description&quot;: &quot;&quot;
}
</code></pre>
<h4 id="menginstall-package-expressjs">Menginstall package Express.js</h4>
<p>Selanjutnya kita install package Express.js nya menggunakan perintah berikut ini</p>
<pre><code class="language-bash">npm install express
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/npm-install.png" alt="NPM Install"></p>
<h4 id="membuat-aplikasi">Membuat Aplikasi</h4>
<p>Setelah package express terinstall, sekarang kita sudah siap membuat simpel aplikasi nya. Untuk membuat nya buat sebuah file dengan nama <code>index.js</code> di lokasi root folder nya kemudian isikan dengan kode seperti berikut ini</p>
<pre><code class="language-js">const express = require(&quot;express&quot;);

const app = express();
const port = process.env.PORT || 5000;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.status(200).send({
    status: &quot;success&quot;,
    message: &quot;Hello World!&quot;,
  });
});

app.listen(port, () =&gt; {
  console.log(`Server listening on port: ${port}`);
});
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/express-simpel-app.png" alt="Express Simple App"></p>
<h4 id="mencoba-aplikasi-via-local">Mencoba Aplikasi via Local</h4>
<p>Setelah aplikasi nya berhasil dibuat, sekarang kita coba jalankan di local menggunakan perintah berikut ini</p>
<pre><code class="language-bash">npm run start
</code></pre>
<p>Maka sekarang jika kita coba buka alamat <code>localhost:5000</code> akan menampilkan response json seperti ini</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;message&quot;: &quot;Hello World!&quot;
}
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/app-running.png" alt="App Running"></p>
<h4 id="membuat-file-dockerfile">Membuat File Dockerfile</h4>
<p>Setelah aplikasi nya berjalan dengan baik dan lancar, sekarang kita siapkan konfigurasi docker nya di file <code>Dockerfile</code> agar aplikasi kita bisa berjalan di deployment container. Untuk membuat nya kalian cukup buat file baru di root folder dengan nama <code>Dockerfile</code> kemudian isikan konfigurasi seperti berikut ini</p>
<pre><code class="language-Dockerfile">FROM node:21.7.3-alpine3.18

RUN mkdir -p /opt/app

WORKDIR /opt/app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 5000

CMD [&quot;npm&quot;, &quot;run&quot;, &quot;start&quot;]
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/dockerfile.png" alt="Dockerfile"></p>
<h4 id="membuat-file-gitignore">Membuat File Gitignore</h4>
<p>Setelah semua proses selesai dan akan mencoba push ke GitHub Repository, alangkah baiknya kalian melakukan check terlebih dahulu apakah terdapat file atau folder yang seharusnya tidak ikut di upload seperti <code>node_modules</code>.</p>
<p>Karena pada dasarnya isian dari folder tersebut adalah dependency package dari aplikasi yang kita bangun dan isian tersebut bisa di install kembali di host atau komputer lain menggunakan perintah <code>npm install</code> oleh karena itu kita bisa melakukan <code>gitignore</code> agar folder tersebut tidak ikut di upload</p>
<blockquote>
<p><strong>Catatan</strong>: Jika kalian liat dari konfigurasi Dockerfile terdapat perintah seperti berikut ini</p>
<pre><code class="language-Dockerfile">RUN npm install
</code></pre>
<p>Itu artinya container yang akan menjalankan aplikasi kita akan menginstall semua dependency dari aplikasi kita.</p>
</blockquote>
<p>Untuk melakukan <code>gitignore</code> caranya cukup mudah, kalian cukup buat sebuah file baru dengan nama <code>.gitignore</code> di root folder nya kemudian isikan list-list file atau folder nya seperti berikut ini</p>
<pre><code class="language-gitignore">node_modules
</code></pre>
<h4 id="push-local-repository-ke-remote-repository">Push Local Repository ke Remote Repository</h4>
<p>Sebelum melakukan push, kita jalankan add dan commit terlebih dahulu perubahan yang sudah kita terapkan pertama kali ini, untuk melakukannya jalankan perintah berikut ini</p>
<pre><code class="language-bash">git add .
</code></pre>
<pre><code class="language-bash">git commit -m &quot;init: setup&quot;
</code></pre>
<p>Setelah semuanya sudah siap, sekarang kita bisa lakukan push ke remote repository dengan perintah berikut ini:</p>
<pre><code class="language-bash">git push -u origin main
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-push.png" alt="Git Push"></p>
<p>Maka sekarang repository nya sudah tersimpan di GitHub</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repo.png" alt="GitHub Repo"></p>
<h3 id="setup-google-cloud-resources">Setup Google Cloud Resources</h3>
<p>Setelah aplikasi berjalan dan tersimpan di github, sekarang kita move on terlebih dahulu, kita akan pindah ke konfigurasi di sisi cloud nya.</p>
<h4 id="membuat-google-cloud-project">Membuat Google Cloud Project</h4>
<p>Ketika kita ber-urusan dengan Google Cloud, maka hukumnya wajib untuk kita mempunyai sebuah project, untuk membuat project nya kalian bisa jalankan perintah berikut ini melalui <code>Cloud CLI</code> atau <code>Google Cloud Shell</code> di web interface nya</p>
<blockquote>
<p><strong>Catatan</strong>: Ubah dan sesuaikan <code>project-id</code> dan <code>display-name</code> dengan konfigurasi yang kalian inginkan</p>
<p><code>project-id</code> bersifat unique, jika terkena error kemungkinan <code>project-id</code> nya sudah ada yang menggunakannya oleh karena itu direkomendasikan gunakan kombinasi huruf dan angka.</p>
</blockquote>
<pre><code class="language-bash">gcloud projects create [PROJECT-ID] --name [DISPLAY-NAME]
</code></pre>
<p>Setelah project dibuat, sekarang set project tersebut sebagai current project menggunakan perintah berikut ini</p>
<pre><code class="language-bash">gcloud config set project [PROJECT-ID]
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-create-project.png" alt="Gcloud Create Project"></p>
<h4 id="enable-service-cloud-run-dan-artifact-registry">Enable Service Cloud Run dan Artifact Registry</h4>
<p>Dikarenakan kita akan menggunakan service <code>Cloud Run</code> dan <code>Artifact Registry</code> maka kita perlu mengizinkan akses ke service tersebut di project kita, untuk melakukannya jalankan perintah berikut ini</p>
<blockquote>
<p><strong>Catatan</strong>: Pastikan billing account nya sudah di link ke project nya agar bisa menjalankan service nya</p>
</blockquote>
<pre><code class="language-bash">gcloud services enable run.googleapis.com
gcloud services enable artifactregistry.googleapis.com
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-enable-services.png" alt="Gcloud Enable Services"></p>
<h4 id="membuat-repositories-artifact-registry">Membuat Repositories Artifact Registry</h4>
<p>Aplikasi kita akan berjalan di environment container, oleh karena itu kita perlu membuat penampungan hasil dari build docker image atau container nya. Kita bisa gunakan service Artifact Registry ini sebagai repository nya, untuk membuat nya caranya cukup mudah kalian bisa jalankan perintah berikut ini</p>
<blockquote>
<p><strong>Catatan</strong>: Kalian bisa sesuaikan nama repository <code>[REPO-NAME]</code> yang akan kalian gunakan dan <code>[LOCATION]</code> dari server nya</p>
<pre><code class="language-bash">gcloud artifacts repositories create [REPO-NAME] --repository-format=docker --location=[LOCATION]
</code></pre>
<p>Disini saya akan gunakan nama repository nya adalah <code>image-registry</code> dan lokasi nya di <code>asia-southeast2</code> (Jakarta)</p>
</blockquote>
<pre><code class="language-bash">gcloud artifacts repositories create image-registry --repository-format=docker --location=asia-southeast2
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-artifacts.png" alt="Gcloud Artifacts"></p>
<h4 id="membuat-service-account-untuk-authentication-github-actions">Membuat Service Account Untuk Authentication GitHub Actions</h4>
<p>Pada tahap proses CI/CD berjalan GitHub Actions memerlukan authentication agar bisa menyimpan docker image dan mendeploy di Google Cloud Platform, oleh karena itu kita perlu membuat sebuah Service Account khusus untuk GitHub Actions tersebut. Caranya cukup mudah kalian bisa ikuti langkah berikut ini:</p>
<ul>
<li>Mendapatkan Google Cloud Project ID</li>
</ul>
<pre><code class="language-bash">export PROJECT_ID=$(gcloud config get-value project)
</code></pre>
<ul>
<li>Membuat Service Account</li>
</ul>
<pre><code class="language-bash">gcloud iam service-accounts create github-actions --description=&quot;This service account is for authenticate GitHub Actions DevOps CI/CD Pipeline&quot; --display-name=&quot;GitHub Actions&quot;
</code></pre>
<ul>
<li>Menambahkan IAM Policy Binding ke Service Account agar bisa mengakses service</li>
</ul>
<blockquote>
<p><strong>Catatan</strong>: Disini kita akan memberikan 3 hak akses ke Service Account <code>github-actions</code> agar bisa menggunakan Cloud Run dan Artifact Registry. Berikut adalah list hak akses nya:</p>
<ul>
<li><code>Artifact Registry Administrator</code></li>
<li><code>Cloud Run Admin</code></li>
<li><code>Service Account User</code></li>
</ul>
<p>Pastikan kalian mengerti apa yang dilakukan disini, karena hal sensitif seperti policy di cloud ini cukup berbahaya dan direkomendasikan oleh Google nya langsung agar memberikan least privilege access</p>
</blockquote>
<pre><code class="language-bash">gcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/artifactregistry.admin

gcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/run.admin

gcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/iam.serviceAccountUser
</code></pre>
<h4 id="membuat-json-key-dari-service-account">Membuat JSON Key dari Service Account</h4>
<p>Setelah Service Account dibuat dan diberikan hak akses ke service, sekarang kita akan buat sebuah JSON Key untuk authentication GitHub Actions nya, untuk membuat nya cukup mudah kalian bisa jalankan perintah berikut ini:</p>
<pre><code class="language-bash">gcloud iam service-accounts keys create github-actions-service-account.json --iam-account=github-actions@$PROJECT_ID.iam.gserviceaccount.com
</code></pre>
<p>Maka sekarang seharusnya sudah ter-generate JSON Key nya, untuk melihatnya kalian bisa gunakan perintah berikut ini</p>
<blockquote>
<p><strong>Catatan</strong>: Pastikan isian dari JSON Key ini aman, karena dengan key inilah GitHub Actions bisa berinteraksi ke Google Cloud Resource nya</p>
<p>Lakukan copy isian dari JSON Key ini karena akan kita paste pada GitHub Actions Secrets</p>
</blockquote>
<pre><code class="language-bash">cat github-actions-service-account.json
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-create-key-service-account.png" alt="Gcloud Create Key Service Account"></p>
<h3 id="setup-github-actions">Setup GitHub Actions</h3>
<p>Setelah Google Cloud Resources nya sudah siap, sekarang kita bisa mulai ke tahap terakhir yaitu menyiapkan konfigurasi GitHub Actions nya</p>
<h4 id="setup-actions-secrets">Setup Actions Secrets</h4>
<p>Jika kalian masih ingat, bahwa JSON Key yang sebelumnya dibuat akan digunakan sebagai authentication antara GitHub Actions ke Google Cloud Platform nya. Oleh karena itu, maka harus secure atau aman bukan? Nah, agar key nya aman kita bisa simpan di <code>Repository secrets</code> ini.</p>
<p>Untuk melakukannya caranya cukup mudah, kalian bisa ikuti cara berikut ini</p>
<ol>
<li>Pergi ke repository GitHub</li>
<li>Masuk ke tab <code>Settings</code></li>
<li>Scroll ke bawah, kemudian pada pilih section <code>Security</code> &gt; <code>Secrets and Variables</code> &gt; <code>Actions</code></li>
<li>Selanjutnya click tombol <code>New repository secret</code></li>
</ol>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repository-secret.png" alt="GitHub Repository Secret"></p>
<p>Selanjutnya isikan nama secret nya dengan <code>GCLOUD_SERVICE_ACCOUNT_KEY</code> dan pada bagian secret nya kalian paste isian dari file <code>github-actions-service-account.json</code> sebelumnya. Sehingga hasilnya akan tampak seperti ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-new-secret.png" alt="GitHub New Secret"></p>
<p>Kemudian click <code>Add secret</code></p>
<p>Maka sekarang terdapat secret baru dengan nama <code>GCLOUD_SERVICE_ACCOUNT_KEY</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repository-secret-added.png" alt="GitHub Repository Secret Added"></p>
<h4 id="setup-github-actions-workflow">Setup GitHub Actions Workflow</h4>
<p>Untuk membuat sebuah job pada GitHub Actions kita perlu membuat konfigurasi workflow yang disimpan di file <code>.github/workflows/&lt;WORKFLOW-NAME&gt;.yml</code> pada repository kita.</p>
<p>Nah, untuk mendefinisikan dan men-setup agar workflow nya bisa terhubung ke Google Cloud Platform bagaimana? akan kah sangat sulit? Jawabannya tidak, karena Google sendiri menyiapkan template dan script nya agar mempermudah pekerjaan kita.</p>
<p>Untuk melihat nya kalian bisa pergi ke tab <code>Actions</code> kemudian pada kolom pencarian masukan keyword <code>Cloud Run</code>, maka akan muncul workflow yang dibuat oleh <code>Google Cloud</code> seperti gambar dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-workflow.png" alt="GitHub Actions Workflow"></p>
<p>Selanjutnya kita bisa pilih <code>Build and Deploy to Cloud Run</code> &gt; <code>Configure</code></p>
<p>Maka sekarang seharusnya akan diarahkan ke template workflow nya seperti gambar dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-template-workflow.png" alt="GitHub Actions Template Workflow"></p>
<p>Isian dari template workflow nya adalah seperti berikut ini</p>
<blockquote>
<p><strong>Catatan</strong>: Pastikan kalian membaca dokumentasi dari masing-masing action nya dan mengerti apa isian dari konfigurasi berikut ini, dan pastikan gunakan versi <code>google-github-actions</code> terbaru dan sesuaikan dengan versinya agar bisa berjalan dengan lancar. Versi yang saya maksud disini adalah</p>
<ul>
<li><code>google-github-actions/auth@v0</code></li>
<li><code>google-github-actions/deploy-cloudrun@v0</code></li>
</ul>
</blockquote>
<pre><code class="language-yml"># This workflow build and push a Docker container to Google Artifact Registry and deploy it on Cloud Run when a commit is pushed to the &quot;main&quot; branch
#
# Overview:
#
# 1. Authenticate to Google Cloud
# 2. Authenticate Docker to Artifact Registry
# 3. Build a docker container
# 4. Publish it to Google Artifact Registry
# 5. Deploy it to Cloud Run
#
# To configure this workflow:
#
# 1. Ensure the required Google Cloud APIs are enabled:
#
#    Cloud Run            run.googleapis.com
#    Artifact Registry    artifactregistry.googleapis.com
#
# 2. Create and configure Workload Identity Federation for GitHub (https://github.com/google-github-actions/auth#setting-up-workload-identity-federation)
#
# 3. Ensure the required IAM permissions are granted
#
#    Cloud Run
#      roles/run.admin
#      roles/iam.serviceAccountUser     (to act as the Cloud Run runtime service account)
#
#    Artifact Registry
#      roles/artifactregistry.admin     (project or repository level)
#
#    NOTE: You should always follow the principle of least privilege when assigning IAM roles
#
# 4. Create GitHub secrets for WIF_PROVIDER and WIF_SERVICE_ACCOUNT
#
# 5. Change the values for the GAR_LOCATION, SERVICE and REGION environment variables (below).
#
# NOTE: To use Google Container Registry instead, replace ${{ env.GAR_LOCATION }}-docker.pkg.dev with gcr.io
#
# For more support on how to run this workflow, please visit https://github.com/marketplace/actions/deploy-to-cloud-run
#
# Further reading:
#   Cloud Run IAM permissions                 - https://cloud.google.com/run/docs/deploying
#   Artifact Registry IAM permissions         - https://cloud.google.com/artifact-registry/docs/access-control#roles
#   Container Registry vs Artifact Registry   - https://cloud.google.com/blog/products/application-development/understanding-artifact-registry-vs-container-registry
#   Principle of least privilege              - https://cloud.google.com/blog/products/identity-security/dont-get-pwned-practicing-the-principle-of-least-privilege

name: Build and Deploy to Cloud Run

on:
  push:
    branches: [&quot;main&quot;]

env:
  PROJECT_ID: YOUR_PROJECT_ID # TODO: update Google Cloud project id
  GAR_LOCATION: YOUR_GAR_LOCATION # TODO: update Artifact Registry location
  SERVICE: YOUR_SERVICE_NAME # TODO: update Cloud Run service name
  REGION: YOUR_SERVICE_REGION # TODO: update Cloud Run service region

jobs:
  deploy:
    # Add &#39;id-token&#39; with the intended permissions for workload identity federation
    permissions:
      contents: &quot;read&quot;
      id-token: &quot;write&quot;

    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Google Auth
        id: auth
        uses: &quot;google-github-actions/auth@v0&quot;
        with:
          token_format: &quot;access_token&quot;
          workload_identity_provider: &quot;${{ secrets.WIF_PROVIDER }}&quot; # e.g. - projects/123456789/locations/global/workloadIdentityPools/my-pool/providers/my-provider
          service_account: &quot;${{ secrets.WIF_SERVICE_ACCOUNT }}&quot; # e.g. - my-service-account@my-project.iam.gserviceaccount.com

      # NOTE: Alternative option - authentication via credentials json
      # - name: Google Auth
      #   id: auth
      #   uses: &#39;google-github-actions/auth@v0&#39;
      #   with:
      #     credentials_json: &#39;${{ secrets.GCP_CREDENTIALS }}&#39;&#39;

      # BEGIN - Docker auth and build (NOTE: If you already have a container image, these Docker steps can be omitted)

      # Authenticate Docker to Google Cloud Artifact Registry
      - name: Docker Auth
        id: docker-auth
        uses: &quot;docker/login-action@v1&quot;
        with:
          username: &quot;oauth2accesstoken&quot;
          password: &quot;${{ steps.auth.outputs.access_token }}&quot;
          registry: &quot;${{ env.GAR_LOCATION }}-docker.pkg.dev&quot;

      - name: Build and Push Container
        run: |-
          docker build -t &quot;${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}&quot; ./
          docker push &quot;${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}&quot;

      # END - Docker auth and build

      - name: Deploy to Cloud Run
        id: deploy
        uses: google-github-actions/deploy-cloudrun@v0
        with:
          service: ${{ env.SERVICE }}
          region: ${{ env.REGION }}
          # NOTE: If using a pre-built image, update the image name here
          image: ${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}

      # If required, use the Cloud Run url output in later steps
      - name: Show Output
        run: echo ${{ steps.deploy.outputs.url }}
</code></pre>
<p>Agar lebih mudah dibaca saya menggunakan konfigurasi seperti ini</p>
<blockquote>
<p><strong>Catatan</strong>: Perhatikan <code>environments</code> dan <code>secrets</code> variable yang digunakan</p>
<ul>
<li><code>${{ env.PROJECT_ID }}</code></li>
<li><code>${{ env.GAR_LOCATION }}</code></li>
<li><code>${{ env.GAR_REPOSITORY_NAME }}</code></li>
<li><code>${{ env.SERVICE }}</code></li>
<li><code>${{ env.REGION }}</code></li>
<li><code>${{ secrets.GCLOUD_SERVICE_ACCOUNT_KEY }}</code></li>
</ul>
<p>Sesuaikan dengan konfigurasi yang gunakan dan inginkan</p>
</blockquote>
<pre><code class="language-yml">name: Build and Deploy to Cloud Run

on:
  push:
    branches: [&quot;main&quot;]

env:
  PROJECT_ID: latihan-devops # TODO: update Google Cloud project id
  GAR_LOCATION: asia-southeast2 # TODO: update Artifact Registry location
  GAR_REPOSITORY_NAME: image-registry # TODO: update Artifact Registry Repository name
  SERVICE: example-cloud-run-github-actions # TODO: update Cloud Run service name
  REGION: asia-southeast2 # TODO: update Cloud Run service region

jobs:
  deploy:
    permissions:
      contents: &quot;read&quot;
      id-token: &quot;write&quot;

    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Google Auth
        id: auth
        uses: &quot;google-github-actions/auth@v2&quot;
        with:
          credentials_json: &quot;${{ secrets.GCLOUD_SERVICE_ACCOUNT_KEY }}&quot;

      - name: Configure Docker to use gcloud
        run: |-
          gcloud auth configure-docker ${{ env.GAR_LOCATION }}-docker.pkg.dev --quiet

      - name: Build and Push Container
        run: |-
          docker build -t &quot;${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}&quot; ./
          docker push &quot;${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}&quot;

      - name: Deploy to Cloud Run
        id: deploy
        uses: google-github-actions/deploy-cloudrun@v2
        with:
          service: ${{ env.SERVICE }}
          region: ${{ env.REGION }}
          image: ${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}

      - name: Show Output
        run: echo ${{ steps.deploy.outputs.url }}
</code></pre>
<p>Jika merasa sudah yakin konfigurasi workflow nya, click <code>Commit changes</code> untuk menyimpan perubahan dan menambahkan file workflow nya kedalam repository kita.</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-commit-changes.png" alt="GitHub Commit Changes"></p>
<p>Pada pop-up detail nya, kita pilih <code>Commit directly to the main branch</code></p>
<blockquote>
<p><strong>Catatan</strong>: Pada saat click <code>Commit changes</code> maka GitHub Actions nya akan langsung jalan karena trigger main branch nya sudah langsung bekerja pada saat kita menambahkan file workflow nya</p>
</blockquote>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-commit-changes-detail.png" alt="GitHub Commit Changes Detail"></p>
<h4 id="melihat-github-actions-berjalan">Melihat GitHub Actions Berjalan</h4>
<p>Untuk melihat workflow nya berhasil atau tidak, kalian bisa pergi ke tab <code>Actions</code> kemudian pilih workflow <code>Build and Deploy to Cloud Run</code> &gt; <code>Create google-cloudrun-docker.yml</code> &gt; <code>deploy</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions.gif" alt="GitHub Actions"></p>
<p>Jika berhasil maka akan muncul icon checklist seperti gambar dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-success.png" alt="GitHub Actions Success"></p>
<h3 id="mengecek-deployment">Mengecek Deployment</h3>
<p>Jika semua proses sebelumnya berjalan lancar, maka seharusnya deployment aplikasi Express.js kita sudah berhasil dilakukan secara otomatis oleh GitHub Actions ke Google Cloud Platform.</p>
<p>Bahkan sekarang jika kita mencoba melakukan perubahan kode di main branch dan melakukan push ke repository, maka akan GitHub Actions akan langsung men-trigger dan melakukan build docker image kemudian mendeploy dan menerapkan perubahan tersebut nya ke Cloud Run.</p>
<p>Sebelum kita coba testing melakukan perubahan, kita akan lihat dulu apakah docker image nya berhasil disimpan ke Artifact Registry dan apakah aplikasi Express.js kita sudah berhasil di hosting di Cloud Run</p>
<h4 id="mengecek-docker-image-di-artifact-registry">Mengecek Docker Image di Artifact Registry</h4>
<p>Disini saya akan menggunakan Google Cloud Console untuk melakukan pengecekan nya agar lebih enak, untuk melihat nya kalian bisa pergi ke resource <code>Artifact Registry</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-repository.png" alt="Artifact Registry Repository"></p>
<p>Bisa kalian lihat gambar diatas, terdapat repository dengan nama <code>image-registry</code> yang lokasi nya di <code>asia-southeast2</code> (Jakarta)</p>
<p>Jika kalian click repository atau folder tersebut, maka akan muncul sebuah service dengan nama <code>example-cloud-run-github-actions</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-service.png" alt="Artifact Registry Service"></p>
<p>Jika kalian mencoba click pada bagian service nya, maka akan muncul sebuah docker image dengan nama tag dari <code>SHA</code> commit github</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-image.png" alt="Artifact Registry Image"></p>
<p>Sehingga nantinya jika kalian melakukan perubahan pada main branch dan GitHub Actions melakukan build dan deploy docker image baru maka akan seperti ini hasilnya pada Artifact Registry</p>
<pre><code>image-registry
└── example-cloud-run-github-actions
   ├── 205de6978615602f82c8f1155ceb9eb99b54bfd2 # Old Build
   ├── f1155ceb9eb99b54bfd2205de6978615602f82c8 # New Build
   └── ... # Next Build
</code></pre>
<h4 id="mengecek-deployment-cloud-run">Mengecek Deployment Cloud Run</h4>
<p>Setelah melakukan pengecekan Docker Image di Artifact Registry, sekarang kita lakukan pengecekan di deployment Cloud Run, untuk melihat nya kalian bisa pergi ke resource <code>Cloud Run</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-service.png" alt="Cloud Run Service"></p>
<p>Bisa kalian lihat gambar diatas, terdapat service dengan nama <code>example-cloud-run-github-actions</code> yang lokasi deployment nya di <code>asia-southeast2</code> (Jakarta).</p>
<p>Namun, perlu di ingat bahwa default deployment nya adalah <code>Required authentication</code> sehingga hanya user tertentu yang bisa melihat deployment nya, oleh karena itu kita coba ubah agar menjadi <code>Allow unauthenticated invocations</code>.</p>
<h4 id="mengubah-authentication-deployment-cloud-run">Mengubah Authentication Deployment Cloud Run</h4>
<p>Untuk mengubah nya caranya cukup mudah, kalian click pada <code>Nama Service</code> &gt; <code>Security</code> &gt; <code>Authentication</code> &gt; <code>Allow unauthenticated invocations</code> &gt; <code>Save</code></p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-security.png" alt="Cloud Run Security"></p>
<h4 id="melihat-deployment-cloud-run-melalui-url">Melihat Deployment Cloud Run Melalui URL</h4>
<p>Setelah mengubah security nya menjadi <code>Allow unauthenticated invocations</code> sekarang kita bisa mengecek deployment nya melalui alamat URL dari bawaan Cloud Run nya</p>
<blockquote>
<p><strong>Catatan</strong>: Seperti yang sudah dibahas jauh diatas, bahwa Cloud Run secara default mempunyai nama domain pada deployment nya</p>
</blockquote>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-url.png" alt="Cloud Run URL"></p>
<p>Kalian bisa buka alamat URL tersebut, maka akan muncul response yang sama persis ketika menjalankannya di local. Keren bukan?</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-deployment.png" alt="Cloud Run Deployment"></p>
<h2 id="test-automation-deployment-cicd-pipeline">Test Automation Deployment CI/CD Pipeline</h2>
<p>Untuk mengetest apakah automation deployment CI/CD nya bekerja atau tidak, kita bisa coba melakukan perubahan kecil misal mengganti message dari response nya. Sebelum itu kita lakukan <code>fetch</code> &amp; <code>pull</code> terlebih dahulu di repository local agar sejajar dengan yang di github</p>
<h3 id="fetch-dan-pull-perubahan-remote-ke-local">Fetch dan Pull Perubahan Remote ke Local</h3>
<pre><code class="language-bash">git fetch &amp;&amp; git pull
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-update.png" alt="Git Update"></p>
<h3 id="melakukan-sedikit-perubahan-pada-aplikasi">Melakukan Sedikit Perubahan Pada Aplikasi</h3>
<p>Sekarang kita coba ubah file <code>index.js</code> nya seperti berikut ini</p>
<pre><code class="language-js">const express = require(&quot;express&quot;);

const app = express();
const port = process.env.PORT || 5000;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.status(200).send({
    status: &quot;success&quot;,
    message: &quot;Hello World from Cloud Run GitHub Actions!&quot;,
  });
});

app.listen(port, () =&gt; {
  console.log(`Server listening on port: ${port}`);
});
</code></pre>
<h3 id="update-perubahan-ke-main-branch">Update Perubahan ke Main Branch</h3>
<p>Selanjutnya kita lakukan <code>add</code> dan <code>commit</code> perubahan tersebut</p>
<pre><code class="language-bash">git add .
</code></pre>
<pre><code class="language-bash">git commit -m &quot;feat(endpoint): update message&quot;
</code></pre>
<p>Setelah semuanya sudah siap, sekarang kita bisa lakukan push ke remote repository dengan perintah berikut ini:</p>
<blockquote>
<p><strong>Catatan</strong>: Pada saat melakukan push, maka trigger GitHub Actions nya akan langsung active dan melakukan build docker image dengan kode base yang terbaru dan melakukan deployment ke Cloud Run menggunakan image tersebut</p>
</blockquote>
<pre><code class="language-bash">git push
</code></pre>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-update.gif" alt="GitHub Actions Update"></p>
<p>Maka sekarang seharusnya terdapat 2 workflow yang sudah berhasil dijalankan</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-workflow-update.png" alt="GitHub Actions Workflow Update"></p>
<h3 id="artifact-registry-image-update">Artifact Registry Image Update</h3>
<p>Jika kita coba lihat docker image pada Artifact Registry juga akan muncul image dengan tag baru seperti gambar dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-image-update.png" alt="Artifact Registry Image Update"></p>
<h3 id="cloud-run-deployment-update">Cloud Run Deployment Update</h3>
<p>Jika kita coba melakukan refresh pada URL deployment Cloud Run, maka response dari aplikasi nya akan terupdate seperti gambar dibawah ini</p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-deployment-update.png" alt="Cloud Run Deployment Update"></p>
<h2 id="penutup">Penutup</h2>
<p>Akhirnya selesai juga perjalan yang sangat panjang ini 🚀 (cape ngetik karena memakan waktu 4 jam lebih dan belum termasuk pembuatan thumbnail blog nya 😭). Tapi puas karena sudah berhasil mengimplementasikan DevOps CI/CD Pipeline menggunakan GitHub Actions sehingga untuk urusan deployment sudah tidak perlu lagi dipusingkan. Keren bukan? 😁</p>
<blockquote>
<p><strong>Catatan</strong>: Sedikit tambahan, jika kalian ingin melakukan improve deployment seperti pemisahan environment <code>dev</code>, <code>staging</code>, dan <code>production</code>. Kalian bisa melakukan hal-hal berikut ini:</p>
<ul>
<li>Passing argument <code>env</code> sesuai dengan environment nya ketika melakukan build docker image di workflow GitHub Actions</li>
<li>Pemisahan Workflow file sesuai dengan branch nya (misalkan terdapat branch <code>dev</code>, <code>staging</code>, dan <code>production</code>) maka setiap workflow nya akan active ke-trigger ketika terdapat perubahan di masing-masing branch nya.</li>
<li>Pemisahan Service (Artifact Registry dan Cloud Run Deployment) sesuai dengan <code>env</code> nya</li>
<li>Kalian juga bisa melakukan pengecekan unit testing seperti menggunakan Jest pada saat job di GitHub Actions ke-trigger</li>
<li>Formatting code seperti menggunakan ESLint sebelum mem-build docker image</li>
</ul>
<p>Beikut contoh arsitektur diagram atau topologi dengan pemisahan <code>env</code> </p>
<p><img src="https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/containerized-app-env.gif" alt="Containerized App Env"></p>
<p>Jangan lupa simpan credentials yang sensitive (seperti database <code>user</code>, <code>password</code>, <code>db_name</code> dsb) di <code>secrets</code> agar tetap aman 👍</p>
</blockquote>
<p>Semoga kalian yang mengikuti artikel ini mendapatkan hal yang bermanfaat, sampai jumpa di artikel selanjutnya 🔥</p>
</div></div></div></div></div></main><div class="fixed bottom-9 right-7 md:bottom-10 md:right-10 z-[999] transition-all duration-300 bottom-[-50px] opacity-0"><button class="block bg-black dark:bg-white py-3 px-3.5 text-lg hover:opacity-80 hover:shadow-lg rounded-full transition-transform duration-300 "><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="text-white dark:text-dark" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg></button></div><footer class="relative w-full border-t border-dark/20 dark:border-white/20 pt-12 transition duration-300 ease-in-out dark:bg-dark dark:opacity-90 lg:pt-20"><div class="absolute inset-x-0 top-4 -z-10 flex transform-gpu justify-center overflow-hidden blur-3xl"><div class="aspect-[1500/632] w-[69.25rem] flex-none bg-gradient-to-r from-cyan-600 to-cyan-800 opacity-25 dark:block" style="clip-path:polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"></div></div><div class="mx-auto max-w-7xl px-6 pb-8 lg:px-8"><div class="xl:grid xl:grid-cols-2 xl:gap-8"><div class="space-y-2"><h2 class="flex h-10 shrink-0 items-center text-xl md:text-3xl font-bold focus:outline-none dark:text-white mb-5">zul.</h2><h3 class="mb-2 text-lg font-bold text-accents-300 dark:text-white/80">Contact Me</h3><a href="mailto:muhammadzulkiakbari@gmail.com" class="hover:text-primary text-accents-300 dark:text-white/80 dark:hover:text-primary"><span>muhammadzulkiakbari@gmail.com</span></a><div class="flex gap-x-1"><a href="https://github.com/mzulkiakbari" target="_blank" class="group mr-3 flex h-9 w-9 items-center justify-center rounded-full border border-slate-400 dark:border-slate-300 text-slate-400 dark:text-slate-300 hover:border-primary hover:bg-primary hover:text-white dark:hover:border-primary dark:hover:bg-primary dark:hover:text-white"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="h-6 w-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span class="absolute mt-20 scale-0 rounded bg-primary text-white p-2 text-xs group-hover:scale-100 whitespace-normal transition duration-300 ease-in-out font-bold">GitHub</span></a><a href="https://www.instagram.com/mzulkiakbari" target="_blank" class="group mr-3 flex h-9 w-9 items-center justify-center rounded-full border border-slate-400 dark:border-slate-300 text-slate-400 dark:text-slate-300 hover:border-primary hover:bg-primary hover:text-white dark:hover:border-primary dark:hover:bg-primary dark:hover:text-white"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="h-6 w-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg><span class="absolute mt-20 scale-0 rounded bg-primary text-white p-2 text-xs group-hover:scale-100 whitespace-normal transition duration-300 ease-in-out font-bold">Instagram</span></a><a href="https://www.linkedin.com/in/mzulkiakbar" target="_blank" class="group mr-3 flex h-9 w-9 items-center justify-center rounded-full border border-slate-400 dark:border-slate-300 text-slate-400 dark:text-slate-300 hover:border-primary hover:bg-primary hover:text-white dark:hover:border-primary dark:hover:bg-primary dark:hover:text-white"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="h-6 w-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg><span class="absolute mt-20 scale-0 rounded bg-primary text-white p-2 text-xs group-hover:scale-100 whitespace-normal transition duration-300 ease-in-out font-bold">LinkedIn</span></a></div></div><div class="mt-16 grid gap-8 sm:grid-cols-2 xl:mt-0"><div class="gap-8"><div><h3 class="leading text-xl font-bold dark:text-white">Links</h3><ul role="list" class="mt-6 space-y-4"><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/dashboard/">Dashboard</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/about-me/">About Me</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/experiences/">Experiences</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/skills/">Skills</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/education/">Education</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/certifications/">Certifications</a></li><li><a class="text-base leading-6 text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary" href="/my-projects/">My Projects</a></li></ul></div></div></div></div><div class="mt-16 flex items-center justify-center border-t border-dark pt-8 dark:border-white/10 sm:mt-20 lg:mt-24"><p class="text-accents-300 dark:text-white/80 text-xs leading-5">© Copyright <!-- -->2025<!-- --> zul. All rights reserved.</p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"published":true,"title":"Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions","tag":"DevOps","date":"May 06 2024","excerpt":"Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions","cover_image":"/images/posts/Cloud Run - Implementasi DevOps CI CD Pipeline Menggunakan GitHub Actions.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"},"slug":"cloud-run-github-actions","content":"\r\n## Pendahuluan\r\n\r\n\u003e **Catatan**: Alangkah baiknya jika kalian ingin mengikuti artikel ini, kalian setidaknya sudah mengerti teori atau pernah mencoba dari masing-masing teknologi yang akan digunakan di artikel ini, seperti:\r\n\u003e\r\n\u003e - `GitHub`\r\n\u003e - `GitHub Actions`\r\n\u003e - `Google Cloud Platform`\r\n\u003e - `Cloud Run`\r\n\u003e - `Identity Access Management (IAM)`\r\n\u003e - `Docker`\r\n\u003e - `Node.js`\r\n\u003e - `Linux`\r\n\u003e\r\n\u003e Tujuannya adalah agar mempermudah pemahaman alur dan implementasi dari artikel ini\r\n\r\nSaat ini saya sedang mengikuti program Studi Independent Kampus Merdeka dengan program Bangkit Academy 2024 Batch 1, pada program tersebut saya mengambil learning path Cloud Computing yang dimana bertanggung jawab untuk membuat backend dan mengelola deployment di Google Cloud Platform.\r\n\r\nOleh karena itu saya melakukan eksplorasi mandiri atau otodidak agar mempermudah pekerjaan saya di Capstone Project nanti dengan cara meng-implementasikan DevOps CI/CD Pipeline menggunakan GitHub Actions dan Cloud Run, hasil dari eksplorasi tersebut terciptalah artikel ini 😁.\r\n\r\nSaya mencoba merancang arsitektur diagram atau topologi dari resource dan cara kerja yang akan dipakai adalah seperti animasi GIF dibawah ini\r\n\r\n![Containerized App](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/containerized-app.gif)\r\n\r\n### Alur Kerja\r\n\r\nKalian bisa lihat dari animasi GIF diatas, seharusnya alur kerja nya adalah seperti ini\r\n\r\n\u003e **Catatan**: Trigger dari GitHub Actions disini bisa terjadi bukan hanya karena ada `push` ke `main` branch saja, tetapi jika melakukan `pull request` dan kemudian di `merge` ke `main` branch, maka akan ikut ke-trigger. Sehingga intinya adalah ketika ada perubahan di branch tertentu, maka job dari GitHub Actions nya akan ke trigger.\r\n\u003e\r\n\u003e `SHA` disini adalah unique id dari git ketika melakukan commit atau biasa dikenal juga sebagai `hash`\r\n\u003e\r\n\u003e `Cloud Run` deployment service secara default adalah private atau `Require authentication` user menggunakan Cloud IAM, jadi pastikan jika kalian ingin membuat nya public ubah ke `Allow unauthenticated invocations`\r\n\r\n1. Back-End Developer mendevelop aplikasi Express.js kemudian melakukan `push` ke repository GitHub pada branch `main`\r\n2. GitHub Actions men-trigger job untuk melakukan build docker image dengan tag berdasarkan `SHA` dari commit nya dan menyimpan nya ke `Artifact Registry` karena terdapat perubahan kode di branch `main`\r\n3. Setelah GitHub Actions melakukan build docker image dan menyimpan nya ke artifact registry, selanjutnya GitHub Actions melakukan deployment pada `Cloud Run` menggunakan docker image dari artifact registry dengan tag latest atau terakhir yang di simpan (disini latest nya berdasarkan `SHA`)\r\n4. Deployment service sudah ready atau siap digunakan, disini Front-End Developer bisa langsung melakukan hit atau konsumsi RESTful API nya karena Cloud Run secara default memiliki domain.\r\n\r\n## Persiapan\r\n\r\nUntuk mencapai tujuan dari semua yang sudah dijelaskan diatas, kita memerlukan persiapan yang lumayan cukup kompleks untuk kalian yang baru pertama kali atau masih awam seperti saya di bidang Cloud Computing dan DevOps. Agar lebih simpel mungkin akan saya list apa saja yang harus di persiapkan, berikut adalah list nya:\r\n\r\n1. GitHub CLI (Untuk membuat repository melalui terminal, jika kalian tidak terbiasa, gunakan saja yang versi web)\r\n2. Cloud CLI (Untuk melakukan remote project dan sebagainya melalui terminal, jika kalian tidak terbiasa, gunakan saja yang versi web atau Cloud Console)\r\n3. Simpel Aplikasi Express.js dengan 1 endpoint di root (`/`) untuk menampilkan response pada method GET (aplikasi ini juga dibungkus menggunakan Dockerfile karena Cloud Run deployment harus menggunakan docker)\r\n4. GitHub Actions workflows (Kumpulan job yang akan dijalankan ketika trigger nya aktif)\r\n5. Google Cloud Resources\r\n   - Service Account (Untuk permission atau autentikasi GitHub Actions ke Google Cloud Platform)\r\n   - Artifact Registry (Untuk menyimpan atau store docker image yang di build)\r\n\r\n### Membuat GitHub Repository\r\n\r\nUntuk membuat sebuah GitHub Repository kalian bisa buat sendiri melalui web nya atau disini karena saya sudah menggunakan `GitHub CLI` jadi saya bisa jalankan langsung di terminal saya dengan perintah seperti berikut ini:\r\n\r\n```bash\r\ngh repo create example-cloud-run-github-actions --public\r\n```\r\n\r\n![GH Create Repository](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gh-create-repo.png)\r\n\r\n### Membuat Simpel Aplikasi Express.js\r\n\r\nSetelah GitHub Repository nya dibuat, sekarang kita buat simpel aplikasi Express.js yang dimana mempunyai 1 buah endpoint di root (`/`) untuk menampilkan response pada method GET. Untuk membuat nya ikuti langkah-langkah berikut ini:\r\n\r\n#### Membuat folder\r\n\r\n```bash\r\nmkdir example-cloud-run-github-actions\r\n```\r\n\r\n#### Pindah ke dalam folder\r\n\r\n```bash\r\ncd example-cloud-run-github-actions\r\n```\r\n\r\n#### Inisialisasi folder sebagai repository git\r\n\r\n```bash\r\ngit init\r\n```\r\n\r\n#### Menambahkan remote origin repository github sebagai tempat host nya\r\n\r\n\u003e **Catatan**: Kalian bisa sesuaikan dengan akun `username` kalian dan `repository` yang kalian buat sebelumnya\r\n\u003e\r\n\u003e Disini saya menggunakan SSH sebagai authentication github nya, jika kalian menggunakan HTTPS gunakan format berikut ini\r\n\u003e\r\n\u003e ```bash\r\n\u003e git remote add origin https://github.com/\u003cusername\u003e/\u003crepository\u003e.git\r\n\u003e ```\r\n\r\n```bash\r\ngit remote add origin git@github.com:\u003cusername\u003e/\u003crepository\u003e.git\r\n```\r\n\r\n![Git Init](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-init.png)\r\n\r\n#### Inisialisasi folder sebagai package Node.js\r\n\r\nDikarenakan disini kita akan membuat aplikasi menggunakan Node.js, maka kita perlu melakukan inisialisasi folder atau project nya sebagai package. Untuk melakukan nya jalankan perintah berikut ini:\r\n\r\n```bash\r\nnpm init -y\r\n```\r\n\r\n#### Menambahkan Custom Script Command Node.js\r\n\r\nSetelah melakukan inisalisasi project, maka Node.js akan men-generate file dengan nama `package.json`. Pada file ini kita bisa tambahkan custom script command untuk menjalankan aplikasi Express.js nantinya. Untuk melakukannya tambahkan command berikut ini didalam object `script`\r\n\r\n```json\r\n\"scripts\": {\r\n    \"start\": \"node ./index.js\"\r\n}\r\n```\r\n\r\nSehingga isian dari file `package.json` nya menjadi seperti ini\r\n\r\n```json\r\n{\r\n  \"name\": \"example-cloud-run-github-actions\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"start\": \"node ./index.js\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"description\": \"\"\r\n}\r\n```\r\n\r\n#### Menginstall package Express.js\r\n\r\nSelanjutnya kita install package Express.js nya menggunakan perintah berikut ini\r\n\r\n```bash\r\nnpm install express\r\n```\r\n\r\n![NPM Install](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/npm-install.png)\r\n\r\n#### Membuat Aplikasi\r\n\r\nSetelah package express terinstall, sekarang kita sudah siap membuat simpel aplikasi nya. Untuk membuat nya buat sebuah file dengan nama `index.js` di lokasi root folder nya kemudian isikan dengan kode seperti berikut ini\r\n\r\n```js\r\nconst express = require(\"express\");\r\n\r\nconst app = express();\r\nconst port = process.env.PORT || 5000;\r\n\r\napp.get(\"/\", (req, res) =\u003e {\r\n  res.status(200).send({\r\n    status: \"success\",\r\n    message: \"Hello World!\",\r\n  });\r\n});\r\n\r\napp.listen(port, () =\u003e {\r\n  console.log(`Server listening on port: ${port}`);\r\n});\r\n```\r\n\r\n![Express Simple App](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/express-simpel-app.png)\r\n\r\n#### Mencoba Aplikasi via Local\r\n\r\nSetelah aplikasi nya berhasil dibuat, sekarang kita coba jalankan di local menggunakan perintah berikut ini\r\n\r\n```bash\r\nnpm run start\r\n```\r\n\r\nMaka sekarang jika kita coba buka alamat `localhost:5000` akan menampilkan response json seperti ini\r\n\r\n```json\r\n{\r\n  \"status\": \"success\",\r\n  \"message\": \"Hello World!\"\r\n}\r\n```\r\n\r\n![App Running](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/app-running.png)\r\n\r\n#### Membuat File Dockerfile\r\n\r\nSetelah aplikasi nya berjalan dengan baik dan lancar, sekarang kita siapkan konfigurasi docker nya di file `Dockerfile` agar aplikasi kita bisa berjalan di deployment container. Untuk membuat nya kalian cukup buat file baru di root folder dengan nama `Dockerfile` kemudian isikan konfigurasi seperti berikut ini\r\n\r\n```Dockerfile\r\nFROM node:21.7.3-alpine3.18\r\n\r\nRUN mkdir -p /opt/app\r\n\r\nWORKDIR /opt/app\r\n\r\nCOPY package*.json ./\r\n\r\nRUN npm install\r\n\r\nCOPY . .\r\n\r\nEXPOSE 5000\r\n\r\nCMD [\"npm\", \"run\", \"start\"]\r\n```\r\n\r\n![Dockerfile](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/dockerfile.png)\r\n\r\n#### Membuat File Gitignore\r\n\r\nSetelah semua proses selesai dan akan mencoba push ke GitHub Repository, alangkah baiknya kalian melakukan check terlebih dahulu apakah terdapat file atau folder yang seharusnya tidak ikut di upload seperti `node_modules`.\r\n\r\nKarena pada dasarnya isian dari folder tersebut adalah dependency package dari aplikasi yang kita bangun dan isian tersebut bisa di install kembali di host atau komputer lain menggunakan perintah `npm install` oleh karena itu kita bisa melakukan `gitignore` agar folder tersebut tidak ikut di upload\r\n\r\n\u003e **Catatan**: Jika kalian liat dari konfigurasi Dockerfile terdapat perintah seperti berikut ini\r\n\u003e\r\n\u003e ```Dockerfile\r\n\u003e RUN npm install\r\n\u003e ```\r\n\u003e\r\n\u003e Itu artinya container yang akan menjalankan aplikasi kita akan menginstall semua dependency dari aplikasi kita.\r\n\r\nUntuk melakukan `gitignore` caranya cukup mudah, kalian cukup buat sebuah file baru dengan nama `.gitignore` di root folder nya kemudian isikan list-list file atau folder nya seperti berikut ini\r\n\r\n```gitignore\r\nnode_modules\r\n```\r\n\r\n#### Push Local Repository ke Remote Repository\r\n\r\nSebelum melakukan push, kita jalankan add dan commit terlebih dahulu perubahan yang sudah kita terapkan pertama kali ini, untuk melakukannya jalankan perintah berikut ini\r\n\r\n```bash\r\ngit add .\r\n```\r\n\r\n```bash\r\ngit commit -m \"init: setup\"\r\n```\r\n\r\nSetelah semuanya sudah siap, sekarang kita bisa lakukan push ke remote repository dengan perintah berikut ini:\r\n\r\n```bash\r\ngit push -u origin main\r\n```\r\n\r\n![Git Push](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-push.png)\r\n\r\nMaka sekarang repository nya sudah tersimpan di GitHub\r\n\r\n![GitHub Repo](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repo.png)\r\n\r\n### Setup Google Cloud Resources\r\n\r\nSetelah aplikasi berjalan dan tersimpan di github, sekarang kita move on terlebih dahulu, kita akan pindah ke konfigurasi di sisi cloud nya.\r\n\r\n#### Membuat Google Cloud Project\r\n\r\nKetika kita ber-urusan dengan Google Cloud, maka hukumnya wajib untuk kita mempunyai sebuah project, untuk membuat project nya kalian bisa jalankan perintah berikut ini melalui `Cloud CLI` atau `Google Cloud Shell` di web interface nya\r\n\r\n\u003e **Catatan**: Ubah dan sesuaikan `project-id` dan `display-name` dengan konfigurasi yang kalian inginkan\r\n\u003e\r\n\u003e `project-id` bersifat unique, jika terkena error kemungkinan `project-id` nya sudah ada yang menggunakannya oleh karena itu direkomendasikan gunakan kombinasi huruf dan angka.\r\n\r\n```bash\r\ngcloud projects create [PROJECT-ID] --name [DISPLAY-NAME]\r\n```\r\n\r\nSetelah project dibuat, sekarang set project tersebut sebagai current project menggunakan perintah berikut ini\r\n\r\n```bash\r\ngcloud config set project [PROJECT-ID]\r\n```\r\n\r\n![Gcloud Create Project](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-create-project.png)\r\n\r\n#### Enable Service Cloud Run dan Artifact Registry\r\n\r\nDikarenakan kita akan menggunakan service `Cloud Run` dan `Artifact Registry` maka kita perlu mengizinkan akses ke service tersebut di project kita, untuk melakukannya jalankan perintah berikut ini\r\n\r\n\u003e **Catatan**: Pastikan billing account nya sudah di link ke project nya agar bisa menjalankan service nya\r\n\r\n```bash\r\ngcloud services enable run.googleapis.com\r\ngcloud services enable artifactregistry.googleapis.com\r\n```\r\n\r\n![Gcloud Enable Services](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-enable-services.png)\r\n\r\n#### Membuat Repositories Artifact Registry\r\n\r\nAplikasi kita akan berjalan di environment container, oleh karena itu kita perlu membuat penampungan hasil dari build docker image atau container nya. Kita bisa gunakan service Artifact Registry ini sebagai repository nya, untuk membuat nya caranya cukup mudah kalian bisa jalankan perintah berikut ini\r\n\r\n\u003e **Catatan**: Kalian bisa sesuaikan nama repository `[REPO-NAME]` yang akan kalian gunakan dan `[LOCATION]` dari server nya\r\n\u003e\r\n\u003e ```bash\r\n\u003e gcloud artifacts repositories create [REPO-NAME] --repository-format=docker --location=[LOCATION]\r\n\u003e ```\r\n\u003e\r\n\u003e Disini saya akan gunakan nama repository nya adalah `image-registry` dan lokasi nya di `asia-southeast2` (Jakarta)\r\n\r\n```bash\r\ngcloud artifacts repositories create image-registry --repository-format=docker --location=asia-southeast2\r\n```\r\n\r\n![Gcloud Artifacts](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-artifacts.png)\r\n\r\n#### Membuat Service Account Untuk Authentication GitHub Actions\r\n\r\nPada tahap proses CI/CD berjalan GitHub Actions memerlukan authentication agar bisa menyimpan docker image dan mendeploy di Google Cloud Platform, oleh karena itu kita perlu membuat sebuah Service Account khusus untuk GitHub Actions tersebut. Caranya cukup mudah kalian bisa ikuti langkah berikut ini:\r\n\r\n- Mendapatkan Google Cloud Project ID\r\n\r\n```bash\r\nexport PROJECT_ID=$(gcloud config get-value project)\r\n```\r\n\r\n- Membuat Service Account\r\n\r\n```bash\r\ngcloud iam service-accounts create github-actions --description=\"This service account is for authenticate GitHub Actions DevOps CI/CD Pipeline\" --display-name=\"GitHub Actions\"\r\n```\r\n\r\n- Menambahkan IAM Policy Binding ke Service Account agar bisa mengakses service\r\n\r\n\u003e **Catatan**: Disini kita akan memberikan 3 hak akses ke Service Account `github-actions` agar bisa menggunakan Cloud Run dan Artifact Registry. Berikut adalah list hak akses nya:\r\n\u003e\r\n\u003e - `Artifact Registry Administrator`\r\n\u003e - `Cloud Run Admin`\r\n\u003e - `Service Account User`\r\n\u003e\r\n\u003e Pastikan kalian mengerti apa yang dilakukan disini, karena hal sensitif seperti policy di cloud ini cukup berbahaya dan direkomendasikan oleh Google nya langsung agar memberikan least privilege access\r\n\r\n```bash\r\ngcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/artifactregistry.admin\r\n\r\ngcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/run.admin\r\n\r\ngcloud projects add-iam-policy-binding $PROJECT_ID --member=serviceAccount:github-actions@$PROJECT_ID.iam.gserviceaccount.com --role=roles/iam.serviceAccountUser\r\n```\r\n\r\n#### Membuat JSON Key dari Service Account\r\n\r\nSetelah Service Account dibuat dan diberikan hak akses ke service, sekarang kita akan buat sebuah JSON Key untuk authentication GitHub Actions nya, untuk membuat nya cukup mudah kalian bisa jalankan perintah berikut ini:\r\n\r\n```bash\r\ngcloud iam service-accounts keys create github-actions-service-account.json --iam-account=github-actions@$PROJECT_ID.iam.gserviceaccount.com\r\n```\r\n\r\nMaka sekarang seharusnya sudah ter-generate JSON Key nya, untuk melihatnya kalian bisa gunakan perintah berikut ini\r\n\r\n\u003e **Catatan**: Pastikan isian dari JSON Key ini aman, karena dengan key inilah GitHub Actions bisa berinteraksi ke Google Cloud Resource nya\r\n\u003e\r\n\u003e Lakukan copy isian dari JSON Key ini karena akan kita paste pada GitHub Actions Secrets\r\n\r\n```bash\r\ncat github-actions-service-account.json\r\n```\r\n\r\n![Gcloud Create Key Service Account](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/gcloud-create-key-service-account.png)\r\n\r\n### Setup GitHub Actions\r\n\r\nSetelah Google Cloud Resources nya sudah siap, sekarang kita bisa mulai ke tahap terakhir yaitu menyiapkan konfigurasi GitHub Actions nya\r\n\r\n#### Setup Actions Secrets\r\n\r\nJika kalian masih ingat, bahwa JSON Key yang sebelumnya dibuat akan digunakan sebagai authentication antara GitHub Actions ke Google Cloud Platform nya. Oleh karena itu, maka harus secure atau aman bukan? Nah, agar key nya aman kita bisa simpan di `Repository secrets` ini.\r\n\r\nUntuk melakukannya caranya cukup mudah, kalian bisa ikuti cara berikut ini\r\n\r\n1. Pergi ke repository GitHub\r\n2. Masuk ke tab `Settings`\r\n3. Scroll ke bawah, kemudian pada pilih section `Security` \u003e `Secrets and Variables` \u003e `Actions`\r\n4. Selanjutnya click tombol `New repository secret`\r\n\r\n![GitHub Repository Secret](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repository-secret.png)\r\n\r\nSelanjutnya isikan nama secret nya dengan `GCLOUD_SERVICE_ACCOUNT_KEY` dan pada bagian secret nya kalian paste isian dari file `github-actions-service-account.json` sebelumnya. Sehingga hasilnya akan tampak seperti ini\r\n\r\n![GitHub New Secret](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-new-secret.png)\r\n\r\nKemudian click `Add secret`\r\n\r\nMaka sekarang terdapat secret baru dengan nama `GCLOUD_SERVICE_ACCOUNT_KEY`\r\n\r\n![GitHub Repository Secret Added](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-repository-secret-added.png)\r\n\r\n#### Setup GitHub Actions Workflow\r\n\r\nUntuk membuat sebuah job pada GitHub Actions kita perlu membuat konfigurasi workflow yang disimpan di file `.github/workflows/\u003cWORKFLOW-NAME\u003e.yml` pada repository kita.\r\n\r\nNah, untuk mendefinisikan dan men-setup agar workflow nya bisa terhubung ke Google Cloud Platform bagaimana? akan kah sangat sulit? Jawabannya tidak, karena Google sendiri menyiapkan template dan script nya agar mempermudah pekerjaan kita.\r\n\r\nUntuk melihat nya kalian bisa pergi ke tab `Actions` kemudian pada kolom pencarian masukan keyword `Cloud Run`, maka akan muncul workflow yang dibuat oleh `Google Cloud` seperti gambar dibawah ini\r\n\r\n![GitHub Actions Workflow](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-workflow.png)\r\n\r\nSelanjutnya kita bisa pilih `Build and Deploy to Cloud Run` \u003e `Configure`\r\n\r\nMaka sekarang seharusnya akan diarahkan ke template workflow nya seperti gambar dibawah ini\r\n\r\n![GitHub Actions Template Workflow](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-template-workflow.png)\r\n\r\nIsian dari template workflow nya adalah seperti berikut ini\r\n\r\n\u003e **Catatan**: Pastikan kalian membaca dokumentasi dari masing-masing action nya dan mengerti apa isian dari konfigurasi berikut ini, dan pastikan gunakan versi `google-github-actions` terbaru dan sesuaikan dengan versinya agar bisa berjalan dengan lancar. Versi yang saya maksud disini adalah\r\n\u003e\r\n\u003e - `google-github-actions/auth@v0`\r\n\u003e - `google-github-actions/deploy-cloudrun@v0`\r\n\r\n```yml\r\n# This workflow build and push a Docker container to Google Artifact Registry and deploy it on Cloud Run when a commit is pushed to the \"main\" branch\r\n#\r\n# Overview:\r\n#\r\n# 1. Authenticate to Google Cloud\r\n# 2. Authenticate Docker to Artifact Registry\r\n# 3. Build a docker container\r\n# 4. Publish it to Google Artifact Registry\r\n# 5. Deploy it to Cloud Run\r\n#\r\n# To configure this workflow:\r\n#\r\n# 1. Ensure the required Google Cloud APIs are enabled:\r\n#\r\n#    Cloud Run            run.googleapis.com\r\n#    Artifact Registry    artifactregistry.googleapis.com\r\n#\r\n# 2. Create and configure Workload Identity Federation for GitHub (https://github.com/google-github-actions/auth#setting-up-workload-identity-federation)\r\n#\r\n# 3. Ensure the required IAM permissions are granted\r\n#\r\n#    Cloud Run\r\n#      roles/run.admin\r\n#      roles/iam.serviceAccountUser     (to act as the Cloud Run runtime service account)\r\n#\r\n#    Artifact Registry\r\n#      roles/artifactregistry.admin     (project or repository level)\r\n#\r\n#    NOTE: You should always follow the principle of least privilege when assigning IAM roles\r\n#\r\n# 4. Create GitHub secrets for WIF_PROVIDER and WIF_SERVICE_ACCOUNT\r\n#\r\n# 5. Change the values for the GAR_LOCATION, SERVICE and REGION environment variables (below).\r\n#\r\n# NOTE: To use Google Container Registry instead, replace ${{ env.GAR_LOCATION }}-docker.pkg.dev with gcr.io\r\n#\r\n# For more support on how to run this workflow, please visit https://github.com/marketplace/actions/deploy-to-cloud-run\r\n#\r\n# Further reading:\r\n#   Cloud Run IAM permissions                 - https://cloud.google.com/run/docs/deploying\r\n#   Artifact Registry IAM permissions         - https://cloud.google.com/artifact-registry/docs/access-control#roles\r\n#   Container Registry vs Artifact Registry   - https://cloud.google.com/blog/products/application-development/understanding-artifact-registry-vs-container-registry\r\n#   Principle of least privilege              - https://cloud.google.com/blog/products/identity-security/dont-get-pwned-practicing-the-principle-of-least-privilege\r\n\r\nname: Build and Deploy to Cloud Run\r\n\r\non:\r\n  push:\r\n    branches: [\"main\"]\r\n\r\nenv:\r\n  PROJECT_ID: YOUR_PROJECT_ID # TODO: update Google Cloud project id\r\n  GAR_LOCATION: YOUR_GAR_LOCATION # TODO: update Artifact Registry location\r\n  SERVICE: YOUR_SERVICE_NAME # TODO: update Cloud Run service name\r\n  REGION: YOUR_SERVICE_REGION # TODO: update Cloud Run service region\r\n\r\njobs:\r\n  deploy:\r\n    # Add 'id-token' with the intended permissions for workload identity federation\r\n    permissions:\r\n      contents: \"read\"\r\n      id-token: \"write\"\r\n\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Google Auth\r\n        id: auth\r\n        uses: \"google-github-actions/auth@v0\"\r\n        with:\r\n          token_format: \"access_token\"\r\n          workload_identity_provider: \"${{ secrets.WIF_PROVIDER }}\" # e.g. - projects/123456789/locations/global/workloadIdentityPools/my-pool/providers/my-provider\r\n          service_account: \"${{ secrets.WIF_SERVICE_ACCOUNT }}\" # e.g. - my-service-account@my-project.iam.gserviceaccount.com\r\n\r\n      # NOTE: Alternative option - authentication via credentials json\r\n      # - name: Google Auth\r\n      #   id: auth\r\n      #   uses: 'google-github-actions/auth@v0'\r\n      #   with:\r\n      #     credentials_json: '${{ secrets.GCP_CREDENTIALS }}''\r\n\r\n      # BEGIN - Docker auth and build (NOTE: If you already have a container image, these Docker steps can be omitted)\r\n\r\n      # Authenticate Docker to Google Cloud Artifact Registry\r\n      - name: Docker Auth\r\n        id: docker-auth\r\n        uses: \"docker/login-action@v1\"\r\n        with:\r\n          username: \"oauth2accesstoken\"\r\n          password: \"${{ steps.auth.outputs.access_token }}\"\r\n          registry: \"${{ env.GAR_LOCATION }}-docker.pkg.dev\"\r\n\r\n      - name: Build and Push Container\r\n        run: |-\r\n          docker build -t \"${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}\" ./\r\n          docker push \"${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}\"\r\n\r\n      # END - Docker auth and build\r\n\r\n      - name: Deploy to Cloud Run\r\n        id: deploy\r\n        uses: google-github-actions/deploy-cloudrun@v0\r\n        with:\r\n          service: ${{ env.SERVICE }}\r\n          region: ${{ env.REGION }}\r\n          # NOTE: If using a pre-built image, update the image name here\r\n          image: ${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.SERVICE }}:${{ github.sha }}\r\n\r\n      # If required, use the Cloud Run url output in later steps\r\n      - name: Show Output\r\n        run: echo ${{ steps.deploy.outputs.url }}\r\n```\r\n\r\nAgar lebih mudah dibaca saya menggunakan konfigurasi seperti ini\r\n\r\n\u003e **Catatan**: Perhatikan `environments` dan `secrets` variable yang digunakan\r\n\u003e\r\n\u003e - `${{ env.PROJECT_ID }}`\r\n\u003e - `${{ env.GAR_LOCATION }}`\r\n\u003e - `${{ env.GAR_REPOSITORY_NAME }}`\r\n\u003e - `${{ env.SERVICE }}`\r\n\u003e - `${{ env.REGION }}`\r\n\u003e - `${{ secrets.GCLOUD_SERVICE_ACCOUNT_KEY }}`\r\n\u003e\r\n\u003e Sesuaikan dengan konfigurasi yang gunakan dan inginkan\r\n\r\n```yml\r\nname: Build and Deploy to Cloud Run\r\n\r\non:\r\n  push:\r\n    branches: [\"main\"]\r\n\r\nenv:\r\n  PROJECT_ID: latihan-devops # TODO: update Google Cloud project id\r\n  GAR_LOCATION: asia-southeast2 # TODO: update Artifact Registry location\r\n  GAR_REPOSITORY_NAME: image-registry # TODO: update Artifact Registry Repository name\r\n  SERVICE: example-cloud-run-github-actions # TODO: update Cloud Run service name\r\n  REGION: asia-southeast2 # TODO: update Cloud Run service region\r\n\r\njobs:\r\n  deploy:\r\n    permissions:\r\n      contents: \"read\"\r\n      id-token: \"write\"\r\n\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Google Auth\r\n        id: auth\r\n        uses: \"google-github-actions/auth@v2\"\r\n        with:\r\n          credentials_json: \"${{ secrets.GCLOUD_SERVICE_ACCOUNT_KEY }}\"\r\n\r\n      - name: Configure Docker to use gcloud\r\n        run: |-\r\n          gcloud auth configure-docker ${{ env.GAR_LOCATION }}-docker.pkg.dev --quiet\r\n\r\n      - name: Build and Push Container\r\n        run: |-\r\n          docker build -t \"${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}\" ./\r\n          docker push \"${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}\"\r\n\r\n      - name: Deploy to Cloud Run\r\n        id: deploy\r\n        uses: google-github-actions/deploy-cloudrun@v2\r\n        with:\r\n          service: ${{ env.SERVICE }}\r\n          region: ${{ env.REGION }}\r\n          image: ${{ env.GAR_LOCATION }}-docker.pkg.dev/${{ env.PROJECT_ID }}/${{ env.GAR_REPOSITORY_NAME }}/${{ env.SERVICE }}:${{ github.sha }}\r\n\r\n      - name: Show Output\r\n        run: echo ${{ steps.deploy.outputs.url }}\r\n```\r\n\r\nJika merasa sudah yakin konfigurasi workflow nya, click `Commit changes` untuk menyimpan perubahan dan menambahkan file workflow nya kedalam repository kita.\r\n\r\n![GitHub Commit Changes](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-commit-changes.png)\r\n\r\nPada pop-up detail nya, kita pilih `Commit directly to the main branch`\r\n\r\n\u003e **Catatan**: Pada saat click `Commit changes` maka GitHub Actions nya akan langsung jalan karena trigger main branch nya sudah langsung bekerja pada saat kita menambahkan file workflow nya\r\n\r\n![GitHub Commit Changes Detail](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-commit-changes-detail.png)\r\n\r\n#### Melihat GitHub Actions Berjalan\r\n\r\nUntuk melihat workflow nya berhasil atau tidak, kalian bisa pergi ke tab `Actions` kemudian pilih workflow `Build and Deploy to Cloud Run` \u003e `Create google-cloudrun-docker.yml` \u003e `deploy`\r\n\r\n![GitHub Actions](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions.gif)\r\n\r\nJika berhasil maka akan muncul icon checklist seperti gambar dibawah ini\r\n\r\n![GitHub Actions Success](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-success.png)\r\n\r\n### Mengecek Deployment\r\n\r\nJika semua proses sebelumnya berjalan lancar, maka seharusnya deployment aplikasi Express.js kita sudah berhasil dilakukan secara otomatis oleh GitHub Actions ke Google Cloud Platform.\r\n\r\nBahkan sekarang jika kita mencoba melakukan perubahan kode di main branch dan melakukan push ke repository, maka akan GitHub Actions akan langsung men-trigger dan melakukan build docker image kemudian mendeploy dan menerapkan perubahan tersebut nya ke Cloud Run.\r\n\r\nSebelum kita coba testing melakukan perubahan, kita akan lihat dulu apakah docker image nya berhasil disimpan ke Artifact Registry dan apakah aplikasi Express.js kita sudah berhasil di hosting di Cloud Run\r\n\r\n#### Mengecek Docker Image di Artifact Registry\r\n\r\nDisini saya akan menggunakan Google Cloud Console untuk melakukan pengecekan nya agar lebih enak, untuk melihat nya kalian bisa pergi ke resource `Artifact Registry`\r\n\r\n![Artifact Registry Repository](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-repository.png)\r\n\r\nBisa kalian lihat gambar diatas, terdapat repository dengan nama `image-registry` yang lokasi nya di `asia-southeast2` (Jakarta)\r\n\r\nJika kalian click repository atau folder tersebut, maka akan muncul sebuah service dengan nama `example-cloud-run-github-actions`\r\n\r\n![Artifact Registry Service](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-service.png)\r\n\r\nJika kalian mencoba click pada bagian service nya, maka akan muncul sebuah docker image dengan nama tag dari `SHA` commit github\r\n\r\n![Artifact Registry Image](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-image.png)\r\n\r\nSehingga nantinya jika kalian melakukan perubahan pada main branch dan GitHub Actions melakukan build dan deploy docker image baru maka akan seperti ini hasilnya pada Artifact Registry\r\n\r\n```\r\nimage-registry\r\n└── example-cloud-run-github-actions\r\n   ├── 205de6978615602f82c8f1155ceb9eb99b54bfd2 # Old Build\r\n   ├── f1155ceb9eb99b54bfd2205de6978615602f82c8 # New Build\r\n   └── ... # Next Build\r\n```\r\n\r\n#### Mengecek Deployment Cloud Run\r\n\r\nSetelah melakukan pengecekan Docker Image di Artifact Registry, sekarang kita lakukan pengecekan di deployment Cloud Run, untuk melihat nya kalian bisa pergi ke resource `Cloud Run`\r\n\r\n![Cloud Run Service](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-service.png)\r\n\r\nBisa kalian lihat gambar diatas, terdapat service dengan nama `example-cloud-run-github-actions` yang lokasi deployment nya di `asia-southeast2` (Jakarta).\r\n\r\nNamun, perlu di ingat bahwa default deployment nya adalah `Required authentication` sehingga hanya user tertentu yang bisa melihat deployment nya, oleh karena itu kita coba ubah agar menjadi `Allow unauthenticated invocations`.\r\n\r\n#### Mengubah Authentication Deployment Cloud Run\r\n\r\nUntuk mengubah nya caranya cukup mudah, kalian click pada `Nama Service` \u003e `Security` \u003e `Authentication` \u003e `Allow unauthenticated invocations` \u003e `Save`\r\n\r\n![Cloud Run Security](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-security.png)\r\n\r\n#### Melihat Deployment Cloud Run Melalui URL\r\n\r\nSetelah mengubah security nya menjadi `Allow unauthenticated invocations` sekarang kita bisa mengecek deployment nya melalui alamat URL dari bawaan Cloud Run nya\r\n\r\n\u003e **Catatan**: Seperti yang sudah dibahas jauh diatas, bahwa Cloud Run secara default mempunyai nama domain pada deployment nya\r\n\r\n![Cloud Run URL](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-url.png)\r\n\r\nKalian bisa buka alamat URL tersebut, maka akan muncul response yang sama persis ketika menjalankannya di local. Keren bukan?\r\n\r\n![Cloud Run Deployment](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-deployment.png)\r\n\r\n## Test Automation Deployment CI/CD Pipeline\r\n\r\nUntuk mengetest apakah automation deployment CI/CD nya bekerja atau tidak, kita bisa coba melakukan perubahan kecil misal mengganti message dari response nya. Sebelum itu kita lakukan `fetch` \u0026 `pull` terlebih dahulu di repository local agar sejajar dengan yang di github\r\n\r\n### Fetch dan Pull Perubahan Remote ke Local\r\n\r\n```bash\r\ngit fetch \u0026\u0026 git pull\r\n```\r\n\r\n![Git Update](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/git-update.png)\r\n\r\n### Melakukan Sedikit Perubahan Pada Aplikasi\r\n\r\nSekarang kita coba ubah file `index.js` nya seperti berikut ini\r\n\r\n```js\r\nconst express = require(\"express\");\r\n\r\nconst app = express();\r\nconst port = process.env.PORT || 5000;\r\n\r\napp.get(\"/\", (req, res) =\u003e {\r\n  res.status(200).send({\r\n    status: \"success\",\r\n    message: \"Hello World from Cloud Run GitHub Actions!\",\r\n  });\r\n});\r\n\r\napp.listen(port, () =\u003e {\r\n  console.log(`Server listening on port: ${port}`);\r\n});\r\n```\r\n\r\n### Update Perubahan ke Main Branch\r\n\r\nSelanjutnya kita lakukan `add` dan `commit` perubahan tersebut\r\n\r\n```bash\r\ngit add .\r\n```\r\n\r\n```bash\r\ngit commit -m \"feat(endpoint): update message\"\r\n```\r\n\r\nSetelah semuanya sudah siap, sekarang kita bisa lakukan push ke remote repository dengan perintah berikut ini:\r\n\r\n\u003e **Catatan**: Pada saat melakukan push, maka trigger GitHub Actions nya akan langsung active dan melakukan build docker image dengan kode base yang terbaru dan melakukan deployment ke Cloud Run menggunakan image tersebut\r\n\r\n```bash\r\ngit push\r\n```\r\n\r\n![GitHub Actions Update](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-update.gif)\r\n\r\nMaka sekarang seharusnya terdapat 2 workflow yang sudah berhasil dijalankan\r\n\r\n![GitHub Actions Workflow Update](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/github-actions-workflow-update.png)\r\n\r\n### Artifact Registry Image Update\r\n\r\nJika kita coba lihat docker image pada Artifact Registry juga akan muncul image dengan tag baru seperti gambar dibawah ini\r\n\r\n![Artifact Registry Image Update](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/artifact-registry-image-update.png)\r\n\r\n### Cloud Run Deployment Update\r\n\r\nJika kita coba melakukan refresh pada URL deployment Cloud Run, maka response dari aplikasi nya akan terupdate seperti gambar dibawah ini\r\n\r\n![Cloud Run Deployment Update](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/cloud-run-deployment-update.png)\r\n\r\n## Penutup\r\n\r\nAkhirnya selesai juga perjalan yang sangat panjang ini 🚀 (cape ngetik karena memakan waktu 4 jam lebih dan belum termasuk pembuatan thumbnail blog nya 😭). Tapi puas karena sudah berhasil mengimplementasikan DevOps CI/CD Pipeline menggunakan GitHub Actions sehingga untuk urusan deployment sudah tidak perlu lagi dipusingkan. Keren bukan? 😁\r\n\r\n\u003e **Catatan**: Sedikit tambahan, jika kalian ingin melakukan improve deployment seperti pemisahan environment `dev`, `staging`, dan `production`. Kalian bisa melakukan hal-hal berikut ini:\r\n\u003e\r\n\u003e - Passing argument `env` sesuai dengan environment nya ketika melakukan build docker image di workflow GitHub Actions\r\n\u003e - Pemisahan Workflow file sesuai dengan branch nya (misalkan terdapat branch `dev`, `staging`, dan `production`) maka setiap workflow nya akan active ke-trigger ketika terdapat perubahan di masing-masing branch nya.\r\n\u003e - Pemisahan Service (Artifact Registry dan Cloud Run Deployment) sesuai dengan `env` nya\r\n\u003e - Kalian juga bisa melakukan pengecekan unit testing seperti menggunakan Jest pada saat job di GitHub Actions ke-trigger\r\n\u003e - Formatting code seperti menggunakan ESLint sebelum mem-build docker image\r\n\u003e \r\n\u003e Beikut contoh arsitektur diagram atau topologi dengan pemisahan `env` \r\n\u003e\r\n\u003e ![Containerized App Env](https://mzulkiakbari.alkaysan.co.id/images/posts/assets/cloud-run-github-actions/containerized-app-env.gif)\r\n\u003e\r\n\u003e Jangan lupa simpan credentials yang sensitive (seperti database `user`, `password`, `db_name` dsb) di `secrets` agar tetap aman 👍\r\n\r\nSemoga kalian yang mengikuti artikel ini mendapatkan hal yang bermanfaat, sampai jumpa di artikel selanjutnya 🔥\r\n","posts":[{"slug":"cloud-run-github-actions","frontmatter":{"published":true,"title":"Cloud Run - Implementasi DevOps CI/CD Pipeline Menggunakan GitHub Actions","tag":"DevOps","date":"May 06 2024","excerpt":"Pada artikel ini kita akan melakukan deployment simpel app Express.js menggunakan Cloud Run dan meng-implementasikan CI/CD Pipeline menggunakan GitHub Actions","cover_image":"/images/posts/Cloud Run - Implementasi DevOps CI CD Pipeline Menggunakan GitHub Actions.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"terraform-otomatisasi-deployment-infastructure-menggunakan-terraform","frontmatter":{"published":true,"title":"Terraform - Otomatisasi Deployment Infrastructure Menggunakan Terraform","tag":"Cloud","date":"April 01 2024","excerpt":"Pada pembahasan kali ini saya akan mencoba menggunakan Terraform untuk mendeploy infrastructure pada Google Cloud Platform (GCP)","cover_image":"/images/posts/Terraform - Otomatisasi Deployment Infrastructure Menggunakan Terraform.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"tutorial-docker-instalasi-windows-11","frontmatter":{"published":false,"title":"Tutorial Docker - Instalasi Windows 11","tag":"SysAdmin","date":"February 17 2024","excerpt":"Test Thumbnail","cover_image":"/images/posts/Tutorial Docker - Instalasi Windows 11.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"vmware-workstation-player-instalasi-linux-debian","frontmatter":{"published":true,"title":"VMware Workstation Player - Instalasi Linux Debian","tag":"SysAdmin","date":"February 17 2024","excerpt":"Pada artikel kali ini kita akan mencoba melakukan instalasi Linux Debian pada Virtual Machine yang sudah dibuat pada pembahasan sebelumnya.","cover_image":"/images/posts/VMware Workstation Player - Instalasi Linux Debian.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"vmware-workstation-player-membuat-virtual-machine","frontmatter":{"published":true,"title":"VMware Workstation Player - Membuat Virtual Machine (VM)","tag":"SysAdmin","date":"February 17 2024","excerpt":"Pada artikel kali ini kita akan mencoba membuat sebuah Virtual Machine dengan sistem operasi Linux dengan distro nya adalah Debian pada VMware Workstation Player","cover_image":"/images/posts/VMware Workstation Player - Membuat Virtual Machine.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"vmware-workstation-player-instalasi-di-windows11","frontmatter":{"published":true,"title":"VMware Workstation Player - Instalasi di Windows 11","tag":"SysAdmin","date":"February 8 2024","excerpt":"Pada artikel kali ini kita akan mencoba menginstall VMware Workstation Player pada sistem operasi Windows 11","cover_image":"/images/posts/VMware Workstation Player - Instalasi di Windows 11.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-has-one-through","frontmatter":{"published":false,"title":"Laravel Eloquent - Relationship Has One Through","tag":"Programming","date":"February 4 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship Has One Through","cover_image":"/images/posts/Laravel Eloquent - Relationship Has One Through.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-advanced-has-one-of-many","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship Advanced Has One of Many","tag":"Programming","date":"January 30 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship Advanced Has One of Many","cover_image":"/images/posts/Laravel Eloquent - Relationship Advanced Has One of Many.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-has-one-of-many","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship Has One of Many","tag":"Programming","date":"January 28 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship Has One of Many","cover_image":"/images/posts/Laravel Eloquent - Relationship Has One of Many.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-where-belongs-to","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship Where Belongs To","tag":"Programming","date":"January 24 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship Where Belongs To","cover_image":"/images/posts/Laravel Eloquent - Relationship Where Belongs To.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-default-models","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship Default Models","tag":"Programming","date":"January 22 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship Default Models","cover_image":"/images/posts/Laravel Eloquent - Relationship Default Models.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-one-to-many","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship One to Many","tag":"Programming","date":"January 22 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship untuk tipe One to Many atau hasMany","cover_image":"/images/posts/Laravel Eloquent - Relationship One to Many.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel-eloquent-relationship-one-to-one","frontmatter":{"published":true,"title":"Laravel Eloquent - Relationship One to One","tag":"Programming","date":"January 20 2024","excerpt":"Pada artikel kali ini kita akan membahas mengenai Laravel Eloquent Relationship untuk tipe One to One atau hasOne","cover_image":"/images/posts/Laravel Eloquent - Relationship One to One.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-authorization","frontmatter":{"published":true,"title":"Laravel 8 - #23 - Authorization","tag":"Programming","date":"January 7 2024","excerpt":"Pada pembahasan kali ini, kita akan membuat feature terakhir dari sistem blog kita, feature tersebut yaitu Authorization atau Otorisasi, setelah sebelumnya kita sudah membuat feature Autentikasi untuk login dan registrasi, sekarang kita akan membuat agar user yang tadi sudah berhasil registrasi dan juga login itu memiliki peran yang berbeda. Contohnya adalah terdapat user biasa dan juga user administrator.","cover_image":"/images/posts/Laravel 8 - Authorization.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-preview-update-dan-delete-image","frontmatter":{"published":true,"title":"Laravel 8 - #22 - Preview, Update dan Delete Image","tag":"Programming","date":"January 6 2024","excerpt":"Pada pembahasan kali ini kita akan melanjutkan feature pengelolaan gambar pada blog post kita sebelumnya, kali ini kita akan menerapkan 3 buah feature, yaitu preview, update dan delete image.","cover_image":"/images/posts/Laravel 8 - Preview, Update dan Delete Image.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-upload-image","frontmatter":{"published":true,"title":"Laravel 8 - #21 - Upload Image","tag":"Programming","date":"January 6 2024","excerpt":"Pada pembahasan kali ini kita akan mencoba menambahkan sebuah feature untuk melengkapi CRUD dari blog kita, yaitu menambahkan feature upload gambar yang dimana nantinya user dapat mengupload gambar sendiri dari komputer nya untuk menggantikan gambar yang sebelumnya kita ambil dari API nya Unsplash.","cover_image":"/images/posts/Laravel 8 - Upload Image.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-update-dan-delete-post","frontmatter":{"published":true,"title":"Laravel 8 - #20 - Update dan Delete Post","tag":"Programming","date":"January 4 2024","excerpt":"Pada pembahasan kali ini kita akan melengkapi aplikasi blog sederhana kita, setelah sebelumnya kita berhasil menambahkan feature CREATE dan READ data, kali ini kita akan melengkapi lagi dengan menambahkan feature UPDATE dan DELETE, sehingga feature CRUD nya sudah bisa dijalankan semua.","cover_image":"/images/posts/Laravel 8 - Update dan Delete Post.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-validation-dan-insert-post","frontmatter":{"published":true,"title":"Laravel 8 - #19 - Validation dan Insert Post","tag":"Programming","date":"January 4 2024","excerpt":"Setelah sebelumnya kita berhasil membuat sebuah form untuk create blog post kita, pada pembahasan kali ini kita akan mencoba untuk melengkapi nya dengan feature validasi pada form nya dan insert kedalam databasenya.","cover_image":"/images/posts/Laravel 8 - Validation dan Insert Post.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-create-post-form","frontmatter":{"published":true,"title":"Laravel 8 - #18 - Create Post Form","tag":"Programming","date":"January 3 2024","excerpt":"Kali ini kita akan melanjutkan kembali pembuatan feature CRUD pada aplikasi sistem blog sederhana kita, setelah sebelumnya kita berhasil membuat tampilan UI untuk bagian Dashboard kita sambil juga menampilkan data post dari user yang sudah berhasil login, feature tersebut sebetulnya sudah masuk kedalam CRUD yaitu bagian READ nya. Nah, sekarang tersisa 3 lagi yaitu CREATE, UPDATE dan DELETE.","cover_image":"/images/posts/Laravel 8 - Create Post Form.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-dashboard-ui","frontmatter":{"published":true,"title":"Laravel 8 - #17 - Dashboard UI","tag":"Programming","date":"January 2 2024","excerpt":"Setelah sebelumya kita sudah berhasil menambahkan feature login dan registrasi pada aplikasi blog sistem kita. Kali ini kita akan masuk kedalam dashboard dalam aplikasi kita, dimana nantinya kita bisa menambahkan feature pengelolaan postingan kita atau blog post kita seperti menambah, melihat detail, mengubah dan menghapus atau istilah nya disebut dengan CRUD (Create, Read, Update dan Delete) Operation.","cover_image":"/images/posts/Laravel 8 - Dashboard UI.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-user-login-dan-middleware","frontmatter":{"published":true,"title":"Laravel 8 - #16 - User Login dan Middleware","tag":"Programming","date":"January 1 2024","excerpt":"Pada pembahasan kali ini kita akan melanjutkan pembahasan mengenai aplikasi blog kita, setelah sebelumnya kita berhasil membuat feature registrasi untuk user kita. Nah, sekarang saatnya kita akan membuat dan meng-aplikasikan feature login nya, sehingga nantinya user yang berhasil registrasi itu bisa masuk kedalam aplikasi kita. Selain kita membuat feature login, kita juga akan sambil mempelajari featrue `middleware` yang ada didalam Laravel.","cover_image":"/images/posts/Laravel 8 - User Login dan Middleware.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-user-registration","frontmatter":{"published":true,"title":"Laravel 8 - #15 - User Registration","tag":"Programming","date":"December 31 2023","excerpt":"Pada pembahasan kali ini kita akan membuat feature registrasi untuk aplikasi blog laravel kita.","cover_image":"/images/posts/Laravel 8 - User Registration.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-view-login-dan-registration","frontmatter":{"published":true,"title":"Laravel 8 - #14 - View Login dan Registration","tag":"Programming","date":"December 31 2023","excerpt":"Pada pembahasan kali ini kita akan membuat view untuk feature login dan registration. Seperti biasa disini kita akan menggunakan bantuan framework frontend yaitu Bootstrap untuk bagian komponen nya.","cover_image":"/images/posts/Laravel 8 - View Login dan Registration.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-searching-dan-pagination","frontmatter":{"published":true,"title":"Laravel 8 - #13 - Searching dan Pagination","tag":"Programming","date":"December 30 2023","excerpt":"Pada pembahasan kali ini kita akan menambahkan 2 feature keren kedalam aplikasi blog kita yaitu Searching dan Pagination.","cover_image":"/images/posts/Laravel 8 - Searching dan Pagination.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-redesign-ui","frontmatter":{"published":true,"title":"Laravel 8 - #12 - Redesign UI","tag":"Programming","date":"December 29 2023","excerpt":"Pada pembahasan kali ini kita akan istirahat terlebih dahulu untuk mempelajari feature-feature utama yang ada didalam Laravel. Pada pembahasan kali ini kita akan mencoba memperbaiki tampilan halaman web blog kita agar lebih fresh lagi dan lebih mudah untuk digunakan.","cover_image":"/images/posts/Laravel 8 - Redesign UI.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-n1-problem","frontmatter":{"published":true,"title":"Laravel 8 - #11 - N+1 Problem","tag":"Programming","date":"December 28 2023","excerpt":"Pada pembahasan kali ini kita akan membahas sesuatu problem pada query database kita yang sangat berpengaruh terhadap performa aplikasi. Problem tersebut dinamakan N+1 Problem","cover_image":"/images/posts/Laravel 8 - N1 Problem.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-factory-dan-faker","frontmatter":{"published":true,"title":"Laravel 8 - #10 - Factory dan Faker","tag":"Programming","date":"December 27 2023","excerpt":"Pada pembahasan kali ini kita akan membahas sesuatu yang tidak kalah menarik yaitu Factory dan Faker pada Laravel, feature tersebut akan sangat berguna jika kita sedang mendevelop sesuatu yang berhubungan dengan dummy data.","cover_image":"/images/posts/Laravel 8 - Factory dan Faker.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-database-seeder","frontmatter":{"published":true,"title":"Laravel 8 - #9 - Database Seeder","tag":"Programming","date":"December 26 2023","excerpt":"Pada pembahasan kali ini kita akan membahas sesuatu feature yang tidak kalah keren pada Laravel yaitu Seeder","cover_image":"/images/posts/Laravel 8 - Database Seeder.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-post-category-dan-eloquent-relationship","frontmatter":{"published":true,"title":"Laravel 8 - #8 - Post Category dan Eloquent Relationship","tag":"Programming","date":"December 25 2023","excerpt":"Pada pembahasan kali ini kita akan membahas sesuatu yang sangat menarik yaitu mengenai keterhubungan antar tabel atau didalam Laravel itu disebut nya dengan `Eloquent Relationship` (bagaimana hubungan antar model). Sehingga nantinya pada studi kasus sistem blog kita akan menerapkan sebuah category pada setiap post di blog kita.","cover_image":"/images/posts/Laravel 8 - Post Category dan Eloquent Relationship.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-post-model-dan-route-model-binding","frontmatter":{"published":true,"title":"Laravel 8 - #7 - Post Model dan Route Model Binding","tag":"Programming","date":"December 24 2023","excerpt":"Pada pembahasan kali ini kita akan membahas kembali mengenai model didalam Laravel, yang dimana akan kita perbaiki model `Post` kita yang sebelumnya dibuat secara manual, kali ini kita akan coba buat agar model nya dengan cara yang benar yaitu dengan merepresentasikan class model nya sebagai tabel didalam database. Hal tersebut nantinya kita juga harus membuat sebuah migrasi untuk tabel Post tersebut.","cover_image":"/images/posts/Laravel 8 - Post Model dan Route Model Binding.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-database-migration-dan-eloquent","frontmatter":{"published":true,"title":"Laravel 8 - #6 - Database, Migration dan Eloquent","tag":"Programming","date":"December 23 2023","excerpt":"Laravel, sebagai salah satu framework PHP yang paling populer, menyediakan pendekatan yang kuat dan efisien dalam mengelola basis data. Dalam artikel ini, kita akan menjelajahi aspek-aspek kunci terkait database di Laravel, dengan penekanan khusus pada konsep migrasi (migration) dan Eloquent, sistem ORM bawaan Laravel.","cover_image":"/images/posts/Laravel 8 - Database, Migration dan Eloquent.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-model-collection-dan-controller","frontmatter":{"published":true,"title":"Laravel 8 - #5 - Model, Collection dan Controller","tag":"Programming","date":"December 22 2023","excerpt":"Aplikasi yang sudah dibangun sebelumnya itu semua proses nya masih ditangani komponen `routes` kita, contohnya ketika kita melakukan request ke halaman `/posts` untuk menampilkan semua data dari blog post kita dilakukan di dalam routes, begitu pula dengan proses menampilkan halaman views, itu juga dilakukan di dalam routes. Hal tersebut tidak tepat, karena jika kita ingin menerapkan konsep MVC (Model, View, Controller) maka 2 proses tersebut seharusnya kita pisahkan sesuai dengan komponen nya.","cover_image":"/images/posts/Laravel 8 - Model, Collection dan Controller.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-blade-templating-engine","frontmatter":{"published":true,"title":"Laravel 8 - #4 - Blade Templating Engine","tag":"Programming","date":"December 21 2023","excerpt":"Templating Engine adalah sebuah fitur atau tools untuk membantu kita dalam mengelola tampilan halaman web, khususnya untuk sebuah framework dan untuk framework laravel, templating engine nya dinamakan dengan Blade.","cover_image":"/images/posts/Laravel 8 - Blade Templating Engine.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-struktur-folder-routes-dan-view","frontmatter":{"published":true,"title":"Laravel 8 - #3 - Struktur Folder, Routes dan View","tag":"Programming","date":"December 21 2023","excerpt":"Bagaimana struktur folder, routes dan view pada aplikasi Laravel?","cover_image":"/images/posts/Laravel 8 - Struktur Folder, Routes dan View.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-instalasi-dan-konfigurasi","frontmatter":{"published":true,"title":"Laravel 8 - #2 - Instalasi dan Konfigurasi","tag":"Programming","date":"December 20 2023","excerpt":"Bagaimana cara instalasi dan konfigurasi Laravel pada sistem operasi Windows, macOS dan Linux?","cover_image":"/images/posts/Laravel 8 - Instalasi dan Konfigurasi.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"laravel8-apa-itu-laravel","frontmatter":{"published":true,"title":"Laravel 8 - #1 - Apa itu Laravel?","tag":"Programming","date":"December 19 2023","excerpt":"Introduction Laravel 8, apa sih Laravel itu? Apa itu Web Application Framework? Siapa pembuat Laravel? Tujuan Laravel dibuat?","cover_image":"/images/posts/Laravel 8 - Apa itu Laravel.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"git-\u0026-github-menambahkan-ssh-key","frontmatter":{"published":true,"title":"Git \u0026 GitHub - Menambahkan SSH Key","tag":"Git","date":"October 31 2023","excerpt":"GitHub saat ini wajib menggunakan SSH Public atau Private keypair untuk melakukan autentikasi dari local (git) ke remote (github), oleh karena itu pada artikel kali ini saya akan membahas bagaimana cara generate SSH key nya.","cover_image":"/images/posts/Git Github - SSH key.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"cloud-computing","frontmatter":{"published":false,"title":"Testing Heading","tag":"Cloud","date":"October 29 2023","excerpt":"Ini adalah testing heading","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"test","frontmatter":{"published":false,"title":"Testing Heading","tag":"Programming","date":"October 29 2023","excerpt":"Ini adalah testing heading","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"typescript-belajar-typescript","frontmatter":{"published":true,"title":"TypeScript - Belajar TypeScript","tag":"Programming","date":"October 16 2023","excerpt":"Pada artikel kali ini, saya akan membahas mengenai typescript","cover_image":"/images/posts/TypeScript - Belajar TypeScript.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"css-belajar-css","frontmatter":{"published":false,"title":"CSS - Belajar CSS","tag":"Programming","date":"October 10 2023","excerpt":"Pada artikel ini Saya akan membahas mengenai CSS seperti anatomi, penempatan dan lainnya","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"sistem-basis-data-1","frontmatter":{"published":false,"title":"Sistem Basis Data - 1","tag":"Programming","date":"October 6 2023","excerpt":"Pada artikel kali ini, saya akan membuat series untuk membahas mengenai Sistem Basis Data","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"cacti-install-cacti-di-ubuntu-server","frontmatter":{"published":true,"title":"Cacti - Instalasi dan Konfigurasi Monitoring Traffic Menggunakan Cacti di Ubuntu Server","tag":"SysAdmin","date":"August 30 2023","excerpt":"Pada artikel ini saya akan melakukan instalasi dan konfigurasi cacti pada sistem operasi Ubuntu Server 22.04","cover_image":"/images/posts/Cacti - Install Cacti di Ubuntu.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"ubuntu-instalasi-dan-konfigurasi-lemp-stack","frontmatter":{"published":false,"title":"Ubuntu - Instalasi dan Konfigurasi LEMP Stack","tag":"Linux","date":"August 30 2023","excerpt":"Pada artikel ini saya akan melakukan instalasi dan konfigurasi LEMP atau Linux, Nginx, MariaDB, dan PHP pada sistem operasi Ubuntu Server 22.04","cover_image":"/images/posts/Ubuntu - Instalasi dan Konfigurasi LEMP Stack.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"monitoring-instalasi-dan-konfigurasi-monitoring-server-menggunakan-grafana-dan-prometheus","frontmatter":{"published":true,"title":"Monitoring - Instalasi dan Konfigurasi Monitoring Server Menggunakan Grafana dan Prometheus","tag":"SysAdmin","date":"August 25 2023","excerpt":"Pada artikel ini saya akan melakukan instalasi dan konfigurasi untuk monitoring server menggunakan Grafana dan Prometheus","cover_image":"/images/posts/Monitoring - Grafana dan Prometheus.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"email-instalasi-dan-konfigurasi-mail-server-dengan-postfix-dovecot-roundcube","frontmatter":{"published":true,"title":"Email - Instalasi dan Konfigurasi Mail Server dengan Postfix, Dovecot dan Roundcube","tag":"SysAdmin","date":"August 23 2023","excerpt":"Pada artikel ini saya akan melakukan instalasi dan konfigurasi untuk mail server menggunakan Postfix, Dovecot dan Roundcube","cover_image":"/images/posts/Email - Instalasi dan Konfigurasi Mail Server dengan Postfix Dovecot dan Roundcube.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"protokol-email-yang-perlu-diketahui","frontmatter":{"published":true,"title":"Email - Protokol Email Yang Wajib Diketahui","tag":"SysAdmin","date":"August 15 2023","excerpt":"Pada artikel ini kita akan membahas protokol email apa saja yang wajib diketahui","cover_image":"/images/posts/Email - Protokol Email Yang Wajib Diketahui.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powerdns-authoritative-server-sebagai-recursor-untuk-client-dan-melayani-public-domain","frontmatter":{"published":true,"title":"PowerDNS - Authoritative Server Sebagai Recursor Untuk Client dan Melayani Public Domains","tag":"SysAdmin","date":"August 01 2023","excerpt":"Pada artikel ini saya akan melakukan konfigurasi DNS Server (PowerDNS) Authoritative Server agar berfungsi sebagai recursor untuk client dan sekaligus melayani public domains","cover_image":"/images/posts/PowerDNS - Authoritative As Recursor for Clients and serving public domains.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"domain-pointing-ke-vps","frontmatter":{"published":true,"title":"Domain - Pointing ke VPS","tag":"SysAdmin","date":"July 21 2023","excerpt":"Pada artikel ini saya akan melakukan konfigurasi domain dari registrar agar mengarah ke VPS","cover_image":"/images/posts/Domain - Pointing ke VPS.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powerdns-master-dan-slave","frontmatter":{"published":true,"title":"PowerDNS - Konfigurasi Master dan Slave","tag":"SysAdmin","date":"July 14 2023","excerpt":"Pada artikel ini saya akan melakukan konfigurasi master dan slave pada 2 DNS Server","cover_image":"/images/posts/PowerDNS - Master Slave.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powerdns-menambahkan-records","frontmatter":{"published":true,"title":"PowerDNS - Menambahkan DNS Records pada DNS Server","tag":"SysAdmin","date":"July 12 2023","excerpt":"Pada artikel ini saya akan menambahkan DNS Records pada DNS Server yang berjalan menggunakan PowerDNS dan backend nya menggunakan MySQL","cover_image":"/images/posts/PowerDNS - Menambahkan Record.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"dns-cara-kerja-dan-jenis-jenis-record","frontmatter":{"published":true,"title":"DNS - Apa itu DNS? Pengertian, Fungsi dan Cara Kerja","tag":"SysAdmin","date":"July 11 2023","excerpt":"Pada artikel ini kita akan membahas apa itu DNS, bagaimana cara kerja DNS dan jenis - jenis record pada DNS","cover_image":"/images/posts/DNS - Jenis Jenis DNS Record.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powerdns-instalasi","frontmatter":{"published":true,"title":"PowerDNS - Install PowerDNS di Ubuntu Server","tag":"SysAdmin","date":"July 04 2023","excerpt":"Pada artikel ini saya akan membuat langkah - langkah instalasi PowerDNS pada sistem operasi Ubuntu Server","cover_image":"/images/posts/PowerDNS - Install PowerDNS di Ubuntu Server.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"cpanel-error-401","frontmatter":{"published":true,"title":"cPanel - Cara memperbaiki error 401 pada WHM cPanel","tag":"SysAdmin","date":"June 27 2023","excerpt":"Pada artikel ini kita akan melakukan konfigurasi server untuk mengatasi error 401 ketika mengakses WHM cPanel","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"proxmox-installation-process","frontmatter":{"published":true,"title":"Proxmox - #1 Installation Process","tag":"SysAdmin","date":"June 26 2023","excerpt":"Pada artikel ini kita akan melakukan instalasi Proxmox VE","cover_image":"/images/posts/Proxmox - Installation Process.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"ubuntu-server-instalasi-ubuntu-server","frontmatter":{"published":true,"title":"Ubuntu Server - Instalasi Ubuntu Server 22.04","tag":"Linux","date":"June 21 2023","excerpt":"Pada artikel ini kita akan melakukan instalasi pada sistem operasi ubuntu server 22.04","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powerbeam-m5-400-sebagai-client","frontmatter":{"published":false,"title":"Ubiquiti - PowerBeam M5 400 Sebagai Client (Station Mode)","tag":"Networking","date":"April 23 2023","excerpt":"Pada artikel ini kita akan melakukan konfigurasi pada perangkat antena wireless dari merek Ubiquiti yaitu PowerBeam M5 400 dengan mode station","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"codeigniter-hosting-di-cpanel","frontmatter":{"published":true,"title":"Codeigniter - Hosting di cPanel","tag":"Programming","date":"March 21 2023","excerpt":"Pada artikel ini kita akan melakukan hosting program codeigniter di cPanel","cover_image":"/images/posts/Codeigniter - Hosting di cPanel.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"archlinux-install-xdebug","frontmatter":{"published":true,"title":"Arch Linux - Install Xdebug","tag":"Linux","date":"March 01 2023","excerpt":"Pada artikel ini kita akan melakukan instalasi Xdebug untuk PHP dan berjalan di web server Apache","cover_image":"/images/posts/Arch Linux - Install Xdebug.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"xampp-phpmyadmin-allow-ip-from-remote-access","frontmatter":{"title":"XAMPP - Phpmyadmin Allow Ip From Remote Access","tag":"Setup","date":"Februrary 13 2023","excerpt":"Pada artikel ini kita akan melakukan configurasi phpmyadmin agar dapat diakses melalui ip address","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png","published":true}},{"slug":"codeigniter-configurasi-dasar","frontmatter":{"published":true,"title":"Codeigniter - Configurasi Dasar","tag":"Programming","date":"February 4 2023","excerpt":"Pada artikel ini kita akan melakukan configurasi dasar pada Framework Codeigniter","cover_image":"/images/posts/Codeigniter - Basic Configuration.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"xampp-menambahkan-xdebug","frontmatter":{"published":true,"title":"XAMPP - Menambahkan Xdebug","tag":"Programming","date":"January 25 2023","excerpt":"Pada artikel ini kita akan mencoba menambahkan Xdebug pada configurasi Apache di XAMPP","cover_image":"/images/posts/XAMPP - Install Xdebug.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"archlinux-apache-config-untuk-htaccess","frontmatter":{"published":true,"title":"Arch Linux - Mengaktifkan Mod Rewrite Pada Configurasi Apache","tag":"Linux","date":"January 24 2023","excerpt":"Pada artikel ini kita akan melakukan configurasi apache untuk enable .htaccess","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"php-js-select-option-form-input","frontmatter":{"published":true,"title":"PHP JS - Select Option Form Input","tag":"Programming","date":"January 24 2023","excerpt":"Pada artikel ini kita akan menggabungkan PHP dan JS untuk menangani select option pada form input","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powershell-install-neovim-dengan-scoop","frontmatter":{"published":true,"title":"PowerShell - Install Neovim Menggunakan Scoop","tag":"Setup","date":"January 24 2023","excerpt":"Pada artikel ini kita akan melakukan instalasi Neovim menggunakan Scoop","cover_image":"/images/posts/neovim.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"powershell-install-oh-my-posh","frontmatter":{"published":true,"title":"PowerShell - Install Oh-My-Posh","tag":"Setup","date":"January 24 2023","excerpt":"Pada artikel ini kita akan melakukan instalasi Oh-My-Posh","cover_image":"/images/posts/ohmyposh.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"olt-command","frontmatter":{"published":true,"title":"OLT - List Perintah atau Command pada OLT","tag":"Networking","date":"January 18 2023","excerpt":"Artikel yang berisi kumpulan perintah atau command untuk perangkat OLT","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"olt-registrasi-onu","frontmatter":{"published":true,"title":"OLT - Registrasi ONU","tag":"Networking","date":"January 18 2023","excerpt":"Pada artikel ini kita akan mencoba melakukan registrasi ONU di OLT","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"php-object-oriented-programming","frontmatter":{"published":true,"title":"PHP - Object Oriented Programming","tag":"Programming","date":"January 18 2023","excerpt":"Object Oriented Programming atau biasa disingkat OOP merupakan sebuah paradigma pada bahasa pemrograman","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"cara-membuat-vlan-pada-interface-router-cisco","frontmatter":{"published":true,"title":"Cisco - Cara Membuat VLAN Pada Interface Router Cisco","tag":"Networking","date":"January 17 2023","excerpt":"Pada artikel ini kita akan mencoba membuat VLAN pada interface router cisco","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"git-\u0026-github-kembali-ke-commit-sebelumnya","frontmatter":{"published":true,"title":"Git - Kembali Ke Commit Sebelumnya","tag":"Git","date":"January 17 2023","excerpt":"Pada artikel ini kita akan mencoba berpindah ke commit sebelumnya pada git","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"git-\u0026-github-multiple-user-account","frontmatter":{"published":true,"title":"Git \u0026 GitHub - Multiple User Account","tag":"Git","date":"January 17 2023","excerpt":"Pada artikel ini kita akan melakukan configurasi agar Git \u0026 GitHub dapat multiple user akun","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"git-squash-commit","frontmatter":{"published":true,"title":"Git - Squash Commit","tag":"Git","date":"January 17 2023","excerpt":"Pada artikel ini kita akan melakukan Squash pada Commit di Git","cover_image":"/images/posts/default.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"konfigurasi-vlan-access-pada-switch-cisco","frontmatter":{"published":true,"title":"Cisco - Konfigurasi VLAN Access Pada Switch Cisco","tag":"Networking","date":"January 17 2023","excerpt":"Pada artikel ini kita akan melakukan konfigurasi VLAN Access pada Switch Cisco","cover_image":"/images/posts/Cisco - Konfigurasi VLAN Access Pada Switch Cisco.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"konfigurasi-vlan-trunk-pada-switch-cisco","frontmatter":{"published":true,"title":"Cisco - Konfigurasi VLAN Trunk Pada Switch Cisco","tag":"Networking","date":"January 17 2023","excerpt":"Pada artikel ini kita akan melakukan konfigurasi VLAN Trunk pada Switch Cisco","cover_image":"/images/posts/Cisco - Konfigurasi VLAN Trunk Pada Switch Cisco.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}},{"slug":"mikrotik-basic-configuration","frontmatter":{"published":true,"title":"Mikrotik - Basic Configuration","tag":"Networking","date":"January 17 2023","excerpt":"Pada artikel ini kita akan mencoba basic configuration pada Router Mikrotik","cover_image":"/images/posts/Mikrotik - Basic Configuration.png","author_name":"Arman Dwi Pangestu","author_title":"Web Developer","author_image":"/images/posts/author/arman.png"}}]},"__N_SSG":true},"page":"/blog/posts/[slug]","query":{"slug":"cloud-run-github-actions"},"buildId":"kPye74dNv48A-A3nRZwbH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>